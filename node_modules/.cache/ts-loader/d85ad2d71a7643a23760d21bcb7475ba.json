{"remainingRequest":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/babel-loader/lib/index.js!/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/ts-loader/index.js??ref--13-2!/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ailu/Documents/program/nutui-lu/nutui-cat/src/packages/jtcoupon/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/src/packages/jtcoupon/index.vue","mtime":1631169083452},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvYWlsdS9Eb2N1bWVudHMvcHJvZ3JhbS9udXR1aS1sdS9udXR1aS1jYXQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJ0AvdXRpbHMvY3JlYXRlJzsKaW1wb3J0IHsgVG9hc3QgfSBmcm9tICdAbnV0dWkvbnV0dWknOwoKdmFyIF9jcmVhdGVDb21wb25lbnQgPSBjcmVhdGVDb21wb25lbnQoJ2p0Q291cG9uJyksCiAgICBjb21wb25lbnROYW1lID0gX2NyZWF0ZUNvbXBvbmVudC5jb21wb25lbnROYW1lLAogICAgY3JlYXRlID0gX2NyZWF0ZUNvbXBvbmVudC5jcmVhdGU7Cgp2YXIgX3RvYXN0ID0gVG9hc3Q7CmV4cG9ydCBkZWZhdWx0IGNyZWF0ZSh7CiAgcHJvcHM6IHsKICAgIGl0ZW06IHsKICAgICAgdHlwZTogW0FycmF5LCBPYmplY3RdLAogICAgICBkZWZhdWx0OiBbXQogICAgfSwKICAgIGltYWdlOiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIEJvb2xlYW5dLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIHRhZzogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgdHlwZTogewogICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgICBkZWZhdWx0OiAnJwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN0YXRlOiAnJwogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHt9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBjb21wdXRlZDogewogICAgY2xhc3NlczogZnVuY3Rpb24gY2xhc3NlcygpIHsKICAgICAgdmFyIF9yZWY7CgogICAgICByZXR1cm4gX3JlZiA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgY29tcG9uZW50TmFtZSwgdHJ1ZSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAiIi5jb25jYXQoY29tcG9uZW50TmFtZSwgIi0iKS5jb25jYXQodGhpcy50eXBlKSwgdGhpcy50eXBlKSwgX2RlZmluZVByb3BlcnR5KF9yZWYsIHRoaXMuaW1hZ2UgPyAiIi5jb25jYXQoY29tcG9uZW50TmFtZSwgIi1pbWFnZSIpIDogJycsIHRydWUpLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgIiIuY29uY2F0KGNvbXBvbmVudE5hbWUsICItIikuY29uY2F0KFsnZ2V0JywgJ3VzZScsICdiYW4nXVt0aGlzLnN0YXRlXSksIHRoaXMuc3RhdGUpLCBfcmVmOwogICAgfSwKICAgIGNsYXNzZXNDb250OiBmdW5jdGlvbiBjbGFzc2VzQ29udCgpIHsKICAgICAgcmV0dXJuIF9kZWZpbmVQcm9wZXJ0eSh7fSwgIiIuY29uY2F0KGNvbXBvbmVudE5hbWUsICItY29udCIpLCB0cnVlKTsKICAgIH0sCiAgICBjbGFzc2VzSW5mbzogZnVuY3Rpb24gY2xhc3Nlc0luZm8oKSB7CiAgICAgIHJldHVybiBfZGVmaW5lUHJvcGVydHkoe30sICIiLmNvbmNhdChjb21wb25lbnROYW1lLCAiLWluZm8iKSwgdHJ1ZSk7CiAgICB9LAogICAgc3R5bGVzOiBmdW5jdGlvbiBzdHlsZXMoKSB7CiAgICAgIHJldHVybiB7Ly8gJ2JvcmRlci1yYWRpdXMnOiAoKHRoaXMgYXMgYW55KSBhcyBhbnkpLnJhZGl1cyArICdweCcKICAgICAgfTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAvLyDlpITnkIbliLjnmoTlrZfmrrXmlbDmja4KICAgIHN3aXRjaCAodGhpcy50eXBlKSB7CiAgICAgIGNhc2UgJ25vcm1hbCc6CiAgICAgICAgdGhpcy5zZXROb3JtYWxDb3Vwb24oKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ2ZpbmFuY2UnOgogICAgICAgIHRoaXMuZ2V0RmluYW5jZUNvdXBvbigpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnc2hhcmUnOgogICAgICAgIHRoaXMuc2V0U2hhcmVDb3Vwb24oKTsKICAgICAgICBicmVhazsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOaZrumAmuWVhuWfjuWIuAogICAgc2V0Tm9ybWFsQ291cG9uOiBmdW5jdGlvbiBzZXROb3JtYWxDb3Vwb24oKSB7CiAgICAgIHZhciBjcG5SZXN1bHRDb2RlLCBzb2xkT3V0OyAvLyDlpITnkIbot6jlk4Hnsbvmi4nmlrDliLjnmoTlrZfmrrXov4fmu6QKCiAgICAgIHZhciBleHQgPSB0aGlzLml0ZW0uZXh0ZW5zaW9uOwogICAgICB2YXIgY291cG9uU3R5bGUgPSBleHQuY291cG9uU3R5bGUsCiAgICAgICAgICBjb3Vwb25UeXBlID0gZXh0LmNvdXBvblR5cGUsCiAgICAgICAgICBzdWJTa3UgPSBleHQuc3ViU2t1OwogICAgICBleHQudV9pbWcgPSBzdWJTa3UgJiYgc3ViU2t1WzBdID8gc3ViU2t1WzBdLmltZyA6IHRoaXMuaXRlbS5waWN0dXJlVXJsID8gdGhpcy5pdGVtLnBpY3R1cmVVcmwgOiAnJzsKICAgICAgZXh0LnVfdGl0ID0gdGhpcy5jbGVhblplcm8oZXh0LmRpc0NvdW50KTsKICAgICAgZXh0LnVfbGluZTEgPSB0aGlzLmNsZWFuWmVybyhleHQucXVvdGEpOwogICAgICBleHQudV9saW5lMiA9IHRoaXMuaXRlbS5kZXNjID8gdGhpcy5pdGVtLmRlc2MgOiBleHQubGltaXRTdHI7IC8vIOaJk+aghwoKICAgICAgaWYgKHRoaXMuaXRlbS5jb21tZW50c1swXSA9PSAnJOaPkOaKpeWkh+azqCcpIHsKICAgICAgICBleHQudV9sYWJlbCA9ICcnOwogICAgICB9IGVsc2UgewogICAgICAgIGlmIChleHQuY291cG9uS2luZCA9PSAnMCcpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCflhajlk4HnsbsnLCB0aGlzLml0ZW0pOwogICAgICAgICAgZXh0LnVfbGFiZWwgPSAnLy9pbWcxNC4zNjBidXlpbWcuY29tL2ltYWdldG9vbHMvamZzL3QxLzE5NTMxOC8yOC8yNjIzLzM0NDgvNjA5YjQ1YWZFNjQxNzMzYTYvMWU3ZjM0M2M1ZWYwNmFjNy5wbmcnOwogICAgICAgIH0gZWxzZSBpZiAoZXh0LnVzZXJMYWJlbCA9PSAnMTAwLTEnIHx8IGV4dC51c2VyTGFiZWwgPT0gJzEwMC0yJykgewogICAgICAgICAgY29uc29sZS5sb2coJ3BsdXMnLCB0aGlzLml0ZW0pOwogICAgICAgICAgZXh0LnVfbGFiZWwgPSAnLy9pbWcxMi4zNjBidXlpbWcuY29tL2ltYWdldG9vbHMvamZzL3QxLzE4ODk1Ni8zMS8yNzUwLzI1ODcvNjA5YjQ2OGJFMjNlYmY0YzcvYjhjZDUwNDUyMjFiNmE5Yi5wbmcnOwogICAgICAgIH0KICAgICAgfSAvLyDph5Hpop3jgIHpl6jmp5vorr7nva4KICAgICAgLy8g5Lqs6LS0CgoKICAgICAgaWYgKGNvdXBvblN0eWxlID09IDI4KSB7CiAgICAgICAgZXh0LnVfbGluZTEgPSAiXHU2QkNGXHU2RUUxIi5jb25jYXQodGhpcy5jbGVhblplcm8oZXh0LnF1b3RhKSwgIlx1NTFDRiIpLmNvbmNhdCh0aGlzLmNsZWFuWmVybyhleHQuZGlzQ291bnQpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDmipjmiaPliLgKICAgICAgICBpZiAoY291cG9uU3R5bGUgPT0gMykgewogICAgICAgICAgaWYgKCtleHQucXVvdGEpIHsKICAgICAgICAgICAgZXh0LnVfdGl0ID0gIiIuY29uY2F0KE1hdGgucm91bmQoKDEgLSBleHQuZGlzQ291bnQgLyBleHQucXVvdGEpICogMTAwKSAvIDEwLCAiXHU2Mjk4Iik7CiAgICAgICAgICB9CgogICAgICAgICAgZXh0LnVfbGluZTEgPSArZXh0LnF1b3RhICYmICtjb3Vwb25UeXBlICE9PSAwID8gIlx1NkVFMSIuY29uY2F0KHRoaXMuY2xlYW5aZXJvKGV4dC5xdW90YSksICJcdTUxNDNcdTUzRUZcdTc1MjgiKSA6ICfml6Dpl6jmp5snOwogICAgICAgIH0gLy8g5ruh5YeP44CB56uL5YeP5Yi4CiAgICAgICAgZWxzZSBpZiAoY291cG9uVHlwZSA9PSAwIHx8IGNvdXBvblR5cGUgPT0gMSkgewogICAgICAgICAgZXh0LnVfbGluZTEgPSArZXh0LnF1b3RhID8gIlx1NkVFMSIuY29uY2F0KHRoaXMuY2xlYW5aZXJvKGV4dC5xdW90YSksICJcdTUxNDNcdTUzRUZcdTc1MjgiKSA6ICfml6Dpl6jmp5snOwogICAgICAgIH0gLy8g54mp5rWB5Yi4CgoKICAgICAgICBpZiAoY291cG9uVHlwZSA9PSAxMCAmJiBjb3Vwb25TdHlsZSA9PSAxMCkgewogICAgICAgICAgZXh0LnVfbGluZTEgPSArZXh0LnF1b3RhID8gIlx1NkVFMSIuY29uY2F0KHRoaXMuY2xlYW5aZXJvKGV4dC5xdW90YSksICJcdTUxNDNcdTUzRUZcdTc1MjgiKSA6ICfml6Dpl6jmp5snOwogICAgICAgIH0KCiAgICAgICAgdGhpcy4kc2V0KHRoaXMuaXRlbSwgJ2V4dGVuc2lvbicsIGV4dCk7CiAgICAgIH0KCiAgICAgIGNwblJlc3VsdENvZGUgPSB0aGlzLml0ZW0uZXh0ZW5zaW9uLmNwblJlc3VsdENvZGU7CiAgICAgIHNvbGRPdXQgPSB0aGlzLml0ZW0uZXh0ZW5zaW9uLnNvbGRPdXQ7IC8vIOiuvue9ruWIuOeKtuaAgQoKICAgICAgaWYgKGNwblJlc3VsdENvZGUgPT0gMTQgfHwgY3BuUmVzdWx0Q29kZSA9PSAxNSkgewogICAgICAgIHRoaXMuc3RhdGUgPSAxOyAvLyDpoobov4cKICAgICAgfSBlbHNlIGlmIChjcG5SZXN1bHRDb2RlID09IDE2IHx8IGNwblJlc3VsdENvZGUgPT0gMTcgfHwgc29sZE91dCA9PSAxKSB7CiAgICAgICAgdGhpcy5zdGF0ZSA9IDI7IC8vIOW3suaKouWFiQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc3RhdGUgPSAwOyAvLyDmnKrpooblj5YKICAgICAgfQogICAgfSwKICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbiBoYW5kbGVDbGljaygpIHsKICAgICAgc3dpdGNoICh0aGlzLnR5cGUpIHsKICAgICAgICBjYXNlICdub3JtYWwnOgogICAgICAgICAgdGhpcy5nZXRDb21tb25Db3VucG9uKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnZmluYW5jZSc6CiAgICAgICAgICB0aGlzLmdldEZpbmFuY2VDb3Vwb24oKTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9LAogICAgLy8g6I635Y+W5pmu6YCa5ZWG5Z+O5Yi4CiAgICBnZXRDb21tb25Db3VucG9uOiBmdW5jdGlvbiBnZXRDb21tb25Db3VucG9uKCkgewogICAgICBpZiAodGhpcy5zdGF0ZSA9PSAwKSB7CiAgICAgICAgLy8g5Y676aKG5Y+WCiAgICAgICAgdmFyIGtleSwgcm9sZUlkOwogICAgICAgIGtleSA9IHRoaXMuaXRlbS5leHRlbnNpb24ua2V5OwogICAgICAgIHJvbGVJZCA9IHRoaXMuaXRlbS5leHRlbnNpb24ucm9sZUlkOwogICAgICAgIGNvbnNvbGUubG9nKCcxMScpOwogICAgICAgIHRoaXMuJGVtaXQoJ2NsaWNrLXJlcG9ydCcsIHRoaXMuc3RhdGUpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUgPT0gMSkgewogICAgICAgIC8vIOWOu+S9v+eUqAogICAgICAgIGlmICh0aGlzLnRpbWVvdXQpIHsKICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpOwogICAgICAgICAgdGhpcy50aW1lb3V0ID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIHZhciBfdGhpcyRpdGVtJGV4dGVuc2lvbiA9IHRoaXMuaXRlbS5leHRlbnNpb24sCiAgICAgICAgICAgIGNvdXBvbktpbmQgPSBfdGhpcyRpdGVtJGV4dGVuc2lvbi5jb3Vwb25LaW5kLAogICAgICAgICAgICBiYXRjaElkID0gX3RoaXMkaXRlbSRleHRlbnNpb24uYmF0Y2hJZCwKICAgICAgICAgICAgc2hvcElkID0gX3RoaXMkaXRlbSRleHRlbnNpb24uc2hvcElkLAogICAgICAgICAgICB2ZW5kZXJJZCA9IF90aGlzJGl0ZW0kZXh0ZW5zaW9uLnZlbmRlcklkOwoKICAgICAgICBpZiAoY291cG9uS2luZCA9PSAxIHx8IGNvdXBvbktpbmQgPT0gMykgewogICAgICAgICAgLy8g6Lez5LyY5oOg5Yi46aG16Z2iCiAgICAgICAgICB0aGlzLiRqdW1wLnRvVXNlQ291cG9uKGJhdGNoSWQpOwogICAgICAgIH0gZWxzZSBpZiAoY291cG9uS2luZCA9PSAyKSB7CiAgICAgICAgICAvLyDot7Plupfpk7oKICAgICAgICAgIHRoaXMuJGp1bXAudG9TaG9wKHZlbmRlcklkICsgJycpOwogICAgICAgIH0gZWxzZSBpZiAoY291cG9uS2luZCA9PSAwKSB7CiAgICAgICAgICAvLyDljrvnp5LmnYAKICAgICAgICAgIHRoaXMuJGp1bXAudG9TZWNraWxsKCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgIH0sCiAgICBjbGVhblplcm86IGZ1bmN0aW9uIGNsZWFuWmVybyh2YWx1ZSkgewogICAgICB2YWx1ZSA9IHZhbHVlOwogICAgICB2YXIgcmVzID0gL1wuMCskLy5leGVjKHZhbHVlKTsKCiAgICAgIGlmIChyZXMpIHsKICAgICAgICByZXR1cm4gdmFsdWUuc2xpY2UoMCwgcmVzLmluZGV4KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHZhbHVlOwogICAgfQogIH0KfSk7"},{"version":3,"sources":["/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ailu/Documents/program/nutui-lu/nutui-cat/src/packages/jtcoupon/index.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { createComponent } from '@/utils/create';\nimport { Toast } from '@nutui/nutui';\nconst { componentName, create } = createComponent('jtCoupon');\nconst _toast: any = Toast;\nexport default create({\n  props: {\n    item: {\n      type: [Array, Object],\n      default: []\n    },\n    image: {\n      type: [String, Boolean],\n      default: ''\n    },\n    tag: {\n      type: String,\n      default: ''\n    },\n    type: {\n      type: [String, Number],\n      default: ''\n    }\n  },\n  data() {\n\t\treturn {\n      state: ''\n    };\n\t},\n  components: {},\n  mounted() {\n  },\n  computed: {\n    classes() {\n      return {\n        [componentName]: true,\n        [`${componentName}-${(this as any).type}`]: (this as any).type,\n        [(this as any).image ? `${componentName}-image` : '']: true,\n        [`${componentName}-${(['get','use','ban'] as any)[(this as any).state]}`]: (this as any).state\n      };\n    },\n    classesCont() {\n      return {\n        [`${componentName}-cont`]: true\n      };\n    },\n    classesInfo() {\n      return {\n        [`${componentName}-info`]: true\n      };\n    },\n    styles() {\n      return {\n        // 'border-radius': ((this as any) as any).radius + 'px'\n      };\n    }\n  },\n  created() {\n    // 处理券的字段数据\n    switch (this.type) {\n      case 'normal': this.setNormalCoupon(); break;\n      case 'finance': this.getFinanceCoupon(); break;\n      case 'share': this.setShareCoupon(); break;\n    }\n  },\n  methods: {\n    // 普通商城券\n    setNormalCoupon() {\n      let cpnResultCode,soldOut;\n      // 处理跨品类拉新券的字段过滤\n      let ext = (this as any).item.extension\n      let { couponStyle, couponType, subSku } = ext\n      ext.u_img = (subSku && subSku[0]) \n        ? subSku[0].img \n        : (this as any).item.pictureUrl\n          ? (this as any).item.pictureUrl\n          : ''\n      ext.u_tit = (this as any).cleanZero(ext.disCount)\n      ext.u_line1 = (this as any).cleanZero(ext.quota)\n      ext.u_line2 = (this as any).item.desc ? (this as any).item.desc : ext.limitStr\n      // 打标\n      if((this as any).item.comments[0] == '$提报备注') {\n        ext.u_label = ''\n      } else {\n        if(ext.couponKind == '0') {\n          console.log('全品类', (this as any).item)\n          ext.u_label = '//img14.360buyimg.com/imagetools/jfs/t1/195318/28/2623/3448/609b45afE641733a6/1e7f343c5ef06ac7.png'\n        } else if(ext.userLabel == '100-1' || ext.userLabel == '100-2') {\n          console.log('plus', (this as any).item)\n          ext.u_label = '//img12.360buyimg.com/imagetools/jfs/t1/188956/31/2750/2587/609b468bE23ebf4c7/b8cd5045221b6a9b.png'\n        }\n      }\n      \n      // 金额、门槛设置\n      // 京贴\n      if (couponStyle == 28) {\n        ext.u_line1 = `每满${(this as any).cleanZero(ext.quota)}减${(this as any).cleanZero(ext.disCount)}`\n      } else {\n        // 折扣券\n        if (couponStyle == 3) {\n          if (+ext.quota) {\n            ext.u_tit = `${Math.round((1 - ext.disCount/ext.quota) * 100) / 10}折`\n          }\n          ext.u_line1 = +ext.quota && +couponType !== 0 ? `满${(this as any).cleanZero(ext.quota)}元可用` : '无门槛'\n        }\n        // 满减、立减券\n        else if (couponType == 0 || couponType == 1) {\n          ext.u_line1 = +ext.quota ? `满${(this as any).cleanZero(ext.quota)}元可用` : '无门槛'\n        }\n        // 物流券\n        if (couponType == 10 && couponStyle == 10) {\n          ext.u_line1 = +ext.quota ? `满${(this as any).cleanZero(ext.quota)}元可用` : '无门槛'\n        }\n        (this as any).$set((this as any).item, 'extension', ext);\n      }\n      cpnResultCode= (this as any).item.extension.cpnResultCode;\n      soldOut= (this as any).item.extension.soldOut;\n      // 设置券状态\n      if (cpnResultCode == 14 || cpnResultCode == 15) {\n        (this as any).state = 1; // 领过\n      } else if (cpnResultCode == 16 || cpnResultCode == 17 || soldOut == 1) {\n        (this as any).state = 2; // 已抢光\n      } else {\n        (this as any).state = 0; // 未领取\n      }\n    },\n    handleClick() {\n      switch ((this as any).type) {\n        case 'normal': (this as any).getCommonCounpon(); break;\n        case 'finance': (this as any).getFinanceCoupon(); break;\n      }\n    },\n    // 获取普通商城券\n    getCommonCounpon() {\n      if ((this as any).state == 0) {\n        // 去领取\n        let key,roleId;\n        key = (this as any).item.extension.key;\n        roleId = (this as any).item.extension.roleId;\n        console.log('11');\n        (this as any).$emit('click-report', (this as any).state);\n      } else if ((this as any).state == 1) {\n        // 去使用\n        if((this as any).timeout){\n          clearTimeout((this as any).timeout);\n          (this as any).timeout=null;\n        }\n        \n        const { couponKind, batchId, shopId, venderId } = (this as any).item.extension\n        if (couponKind == 1 || couponKind == 3) {\n          // 跳优惠券页面\n          (this as any).$jump.toUseCoupon(batchId)\n        } else if (couponKind == 2) {\n          // 跳店铺\n          (this as any).$jump.toShop(venderId+'')\n        } else if (couponKind == 0) {\n          // 去秒杀\n          (this as any).$jump.toSeckill()\n        }\n        return\n      }\n    },\n    cleanZero (value: string) {\n      value = value\n      let res = /\\.0+$/.exec(value)\n      if (res) {\n        return value.slice(0, res.index)\n      }\n      return value\n    }\n  }\n});\n"],"sourceRoot":""}]}
{"remainingRequest":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/babel-loader/lib/index.js!/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/ts-loader/index.js??ref--13-2!/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ailu/Documents/program/nutui-lu/nutui-cat/src/packages/coupon/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/src/packages/coupon/index.vue","mtime":1631169454434},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvYWlsdS9Eb2N1bWVudHMvcHJvZ3JhbS9udXR1aS1sdS9udXR1aS1jYXQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJ0AvdXRpbHMvY3JlYXRlJzsKaW1wb3J0IGNvbm5lY3REYXRhIGZyb20gJ0AvdXRpbHMvY29ubmVjdCc7CmltcG9ydCB7IFRvYXN0IH0gZnJvbSAnQG51dHVpL251dHVpJzsKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwoKdmFyIF9jcmVhdGVDb21wb25lbnQgPSBjcmVhdGVDb21wb25lbnQoJ2NvdXBvbicpLAogICAgY29tcG9uZW50TmFtZSA9IF9jcmVhdGVDb21wb25lbnQuY29tcG9uZW50TmFtZSwKICAgIGNyZWF0ZSA9IF9jcmVhdGVDb21wb25lbnQuY3JlYXRlOwoKdmFyIF90b2FzdCA9IFRvYXN0OwpleHBvcnQgZGVmYXVsdCBjcmVhdGUoewogIHByb3BzOiB7CiAgICBkYXRhOiB7CiAgICAgIHR5cGU6IFtBcnJheSwgT2JqZWN0XSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgdHlwZTogewogICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIGNvbDogewogICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIGVuZFRpbWU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKG5ld1ZhbHVlKSB7CiAgICAgIGlmIChuZXdWYWx1ZSkgewogICAgICAgIHRoaXMuZGVhbERhdGEodGhpcy5kYXRhWzBdLCB0aGlzLmRhdGFbMV0pOwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0YToge30sCiAgICAgIHN0YXRlOiAnJywKICAgICAgdGltZXI6IG51bGwKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7fSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30sCiAgY29tcHV0ZWQ6IHsKICAgIGNsYXNzZXM6IGZ1bmN0aW9uIGNsYXNzZXMoKSB7CiAgICAgIHZhciBfcmVmOwoKICAgICAgcmV0dXJuIF9yZWYgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9yZWYsIGNvbXBvbmVudE5hbWUsIHRydWUpLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgIiIuY29uY2F0KGNvbXBvbmVudE5hbWUsICItIikuY29uY2F0KHRoaXMudHlwZSksIHRoaXMudHlwZSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAiIi5jb25jYXQoY29tcG9uZW50TmFtZSwgIi0iKS5jb25jYXQodGhpcy5jb2wpLCB0aGlzLmNvbCksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCB0aGlzLmRhdGEuY0ltYWdlID8gIiIuY29uY2F0KGNvbXBvbmVudE5hbWUsICItaW1hZ2UiKSA6ICcnLCB0cnVlKSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICIiLmNvbmNhdChjb21wb25lbnROYW1lLCAiLSIpLmNvbmNhdChbJ2dldCcsICd1c2UnLCAnYmFuJ11bdGhpcy5zdGF0ZV0pLCB0aGlzLnN0YXRlKSwgX3JlZjsKICAgIH0sCiAgICBjbGFzc2VzQ29udDogZnVuY3Rpb24gY2xhc3Nlc0NvbnQoKSB7CiAgICAgIHJldHVybiBfZGVmaW5lUHJvcGVydHkoe30sICIiLmNvbmNhdChjb21wb25lbnROYW1lLCAiLWNvbnQiKSwgdHJ1ZSk7CiAgICB9LAogICAgY2xhc3Nlc0luZm86IGZ1bmN0aW9uIGNsYXNzZXNJbmZvKCkgewogICAgICByZXR1cm4gX2RlZmluZVByb3BlcnR5KHt9LCAiIi5jb25jYXQoY29tcG9uZW50TmFtZSwgIi1pbmZvIiksIHRydWUpOwogICAgfSwKICAgIHN0eWxlczogZnVuY3Rpb24gc3R5bGVzKCkgewogICAgICByZXR1cm4gey8vICdib3JkZXItcmFkaXVzJzogKCh0aGlzIGFzIGFueSkgYXMgYW55KS5yYWRpdXMgKyAncHgnCiAgICAgIH07CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5kZWFsRGF0YSh0aGlzLmRhdGFbMF0sIHRoaXMuZGF0YVsxXSk7IC8vIOWkhOeQhuWIuOeahOWtl+auteaVsOaNrgoKICAgIHN3aXRjaCAodGhpcy50eXBlKSB7CiAgICAgIGNhc2UgJ25vcm1hbCc6CiAgICAgICAgdGhpcy5zZXROb3JtYWxDb3Vwb24oKTsKICAgICAgICBicmVhazsKICAgICAgLy8gY2FzZSAnZmluYW5jZSc6IHRoaXMuZ2V0RmluYW5jZUNvdXBvbigpOyBicmVhazsKICAgICAgLy8gY2FzZSAnc2hhcmUnOiB0aGlzLnNldFNoYXJlQ291cG9uKCk7IGJyZWFrOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZGVhbERhdGE6IGZ1bmN0aW9uIGRlYWxEYXRhKGRhdGEsIHBhcmFtcykgewogICAgICB0aGlzLmRhdGEgPSBjb25uZWN0RGF0YShkYXRhLCBwYXJhbXMpOwogICAgfSwKICAgIC8vIOaZrumAmuWVhuWfjuWIuAogICAgc2V0Tm9ybWFsQ291cG9uOiBmdW5jdGlvbiBzZXROb3JtYWxDb3Vwb24oKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCdkYXRhJywgKHRoaXMgYXMgYW55KS5kYXRhKQogICAgICB2YXIgY3BuUmVzdWx0Q29kZSwgc29sZE91dDsgLy8g5aSE55CG6Leo5ZOB57G75ouJ5paw5Yi455qE5a2X5q616L+H5rukCgogICAgICB2YXIgZXh0ID0gdGhpcy5kYXRhLmV4dGVuc2lvbjsKICAgICAgdmFyIGNvdXBvblN0eWxlID0gZXh0LmNvdXBvblN0eWxlLAogICAgICAgICAgY291cG9uVHlwZSA9IGV4dC5jb3Vwb25UeXBlLAogICAgICAgICAgc3ViU2t1ID0gZXh0LnN1YlNrdTsKICAgICAgZXh0LmNfaW1nID0gc3ViU2t1ICYmIHN1YlNrdVswXSA/IHN1YlNrdVswXS5pbWcgOiB0aGlzLmRhdGEucGljdHVyZVVybCA/IHRoaXMuZGF0YS5waWN0dXJlVXJsIDogJyc7CiAgICAgIGV4dC5jX3RpdCA9IHRoaXMuY2xlYW5aZXJvKGV4dC5kaXNDb3VudCk7CiAgICAgIGV4dC5jX2xpbmUxID0gdGhpcy5jbGVhblplcm8oZXh0LnF1b3RhKTsgLy8gZXh0LmNfbGluZTIgPSAodGhpcyBhcyBhbnkpLmRhdGEuZGVzYyA/ICh0aGlzIGFzIGFueSkuZGF0YS5kZXNjIDogZXh0LmxpbWl0U3RyCgogICAgICBleHQuY19saW5lMiA9IGV4dC5saW1pdFN0cjsgLy8g5omT5qCHCgogICAgICBpZiAodGhpcy5kYXRhLmNvbW1lbnRzWzBdID09ICck5o+Q5oql5aSH5rOoJykgewogICAgICAgIGV4dC5jX2xhYmVsID0gJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKGV4dC5jb3Vwb25LaW5kID09ICcwJykgewogICAgICAgICAgY29uc29sZS5sb2coJ+WFqOWTgeexuycsIHRoaXMuZGF0YSk7CiAgICAgICAgICBleHQuY19sYWJlbCA9ICcvL2ltZzE0LjM2MGJ1eWltZy5jb20vaW1hZ2V0b29scy9qZnMvdDEvMTk1MzE4LzI4LzI2MjMvMzQ0OC82MDliNDVhZkU2NDE3MzNhNi8xZTdmMzQzYzVlZjA2YWM3LnBuZyc7CiAgICAgICAgfSBlbHNlIGlmIChleHQudXNlckxhYmVsID09ICcxMDAtMScgfHwgZXh0LnVzZXJMYWJlbCA9PSAnMTAwLTInKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygncGx1cycsIHRoaXMuZGF0YSk7CiAgICAgICAgICBleHQuY19sYWJlbCA9ICcvL2ltZzEyLjM2MGJ1eWltZy5jb20vaW1hZ2V0b29scy9qZnMvdDEvMTg4OTU2LzMxLzI3NTAvMjU4Ny82MDliNDY4YkUyM2ViZjRjNy9iOGNkNTA0NTIyMWI2YTliLnBuZyc7CiAgICAgICAgfQogICAgICB9CgogICAgICBjb25zb2xlLmxvZygnZXh0LmVuZFRpbWUnLCBleHQuZW5kVGltZSk7IC8vIOi/h+acn+aXtumXtAoKICAgICAgaWYgKGV4dC5lbmRUaW1lKSB7CiAgICAgICAgdmFyIHJlc1RpbWUgPSBtb21lbnQoZXh0LmVuZFRpbWUpLmZyb21Ob3coKTsKCiAgICAgICAgaWYgKHJlc1RpbWUuaW5kZXhPZignaW4nKSAhPSAtMSkgewogICAgICAgICAgaWYgKHJlc1RpbWUuaW5kZXhPZignZGF5cycpICE9IC0xKSB7CiAgICAgICAgICAgIGV4dC5jX2VuZFRpbWUgPSByZXNUaW1lLm1hdGNoKC9cZCsvZykgKyAn5aSp5ZCO6L+H5pyfJzsKICAgICAgICAgICAgZXh0LmNfZW5kVGltZTExMSA9ICflpKnlkI7ov4fmnJ8nOwogICAgICAgICAgICBjb25zb2xlLmxvZygnZXh0LmNfZW5kVGltZSAxJywgZXh0KTsKICAgICAgICAgIH0gZWxzZSBpZiAocmVzVGltZS5pbmRleE9mKCdob3VycycpICE9IC0xKSB7CiAgICAgICAgICAgIGV4dC5jX2VuZFRpbWUgPSByZXNUaW1lLm1hdGNoKC9cZCsvZykgKyAn5bCP5pe25ZCO6L+H5pyfJzsKICAgICAgICAgIH0KCiAgICAgICAgICBjb25zb2xlLmxvZygnZXh0LmNfZW5kVGltZScsIGV4dCk7CiAgICAgICAgfQogICAgICB9CgogICAgICBjb25zb2xlLmxvZygnZXh0LmVuZFRpbWUgMScsIGV4dCk7IC8vIOmHkemineOAgemXqOanm+iuvue9rgogICAgICAvLyDkuqzotLQKCiAgICAgIGlmIChjb3Vwb25TdHlsZSA9PSAyOCkgewogICAgICAgIGV4dC5jX2xpbmUxID0gIlx1NkJDRlx1NkVFMSIuY29uY2F0KHRoaXMuY2xlYW5aZXJvKGV4dC5xdW90YSksICJcdTUxQ0YiKS5jb25jYXQodGhpcy5jbGVhblplcm8oZXh0LmRpc0NvdW50KSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5oqY5omj5Yi4CiAgICAgICAgaWYgKGNvdXBvblN0eWxlID09IDMpIHsKICAgICAgICAgIGlmICgrZXh0LnF1b3RhKSB7CiAgICAgICAgICAgIGV4dC5jX3RpdCA9ICIiLmNvbmNhdChNYXRoLnJvdW5kKCgxIC0gZXh0LmRpc0NvdW50IC8gZXh0LnF1b3RhKSAqIDEwMCkgLyAxMCwgIlx1NjI5OCIpOwogICAgICAgICAgfQoKICAgICAgICAgIGV4dC5jX2xpbmUxID0gK2V4dC5xdW90YSAmJiArY291cG9uVHlwZSAhPT0gMCA/ICJcdTZFRTEiLmNvbmNhdCh0aGlzLmNsZWFuWmVybyhleHQucXVvdGEpLCAiXHU1MTQzXHU1M0VGXHU3NTI4IikgOiAn5peg6Zeo5qebJzsKICAgICAgICB9IC8vIOa7oeWHj+OAgeeri+WHj+WIuAogICAgICAgIGVsc2UgaWYgKGNvdXBvblR5cGUgPT0gMCB8fCBjb3Vwb25UeXBlID09IDEpIHsKICAgICAgICAgIGV4dC5jX2xpbmUxID0gK2V4dC5xdW90YSA/ICJcdTZFRTEiLmNvbmNhdCh0aGlzLmNsZWFuWmVybyhleHQucXVvdGEpLCAiXHU1MTQzXHU1M0VGXHU3NTI4IikgOiAn5peg6Zeo5qebJzsKICAgICAgICB9IC8vIOeJqea1geWIuAoKCiAgICAgICAgaWYgKGNvdXBvblR5cGUgPT0gMTAgJiYgY291cG9uU3R5bGUgPT0gMTApIHsKICAgICAgICAgIGV4dC5jX2xpbmUxID0gK2V4dC5xdW90YSA/ICJcdTZFRTEiLmNvbmNhdCh0aGlzLmNsZWFuWmVybyhleHQucXVvdGEpLCAiXHU1MTQzXHU1M0VGXHU3NTI4IikgOiAn5peg6Zeo5qebJzsKICAgICAgICB9CgogICAgICAgIHRoaXMuJHNldCh0aGlzLmRhdGEsICdleHRlbnNpb24nLCBleHQpOwogICAgICB9CgogICAgICBjcG5SZXN1bHRDb2RlID0gdGhpcy5kYXRhLmV4dGVuc2lvbi5jcG5SZXN1bHRDb2RlOwogICAgICBzb2xkT3V0ID0gdGhpcy5kYXRhLmV4dGVuc2lvbi5zb2xkT3V0OyAvLyDorr7nva7liLjnirbmgIEKCiAgICAgIGlmIChjcG5SZXN1bHRDb2RlID09IDE0IHx8IGNwblJlc3VsdENvZGUgPT0gMTUpIHsKICAgICAgICB0aGlzLnN0YXRlID0gMTsgLy8g6aKG6L+HCiAgICAgIH0gZWxzZSBpZiAoY3BuUmVzdWx0Q29kZSA9PSAxNiB8fCBjcG5SZXN1bHRDb2RlID09IDE3IHx8IHNvbGRPdXQgPT0gMSkgewogICAgICAgIHRoaXMuc3RhdGUgPSAyOyAvLyDlt7LmiqLlhYkKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnN0YXRlID0gMDsgLy8g5pyq6aKG5Y+WCiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24gaGFuZGxlQ2xpY2soKSB7CiAgICAgIHN3aXRjaCAodGhpcy50eXBlKSB7CiAgICAgICAgY2FzZSAnbm9ybWFsJzoKICAgICAgICAgIHRoaXMuZ2V0Q29tbW9uQ291bnBvbigpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgJ2ZpbmFuY2UnOgogICAgICAgICAgdGhpcy5nZXRGaW5hbmNlQ291cG9uKCk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfSwKICAgIC8vIOiOt+WPluaZrumAmuWVhuWfjuWIuAogICAgZ2V0Q29tbW9uQ291bnBvbjogZnVuY3Rpb24gZ2V0Q29tbW9uQ291bnBvbigpIHsKICAgICAgaWYgKHRoaXMuc3RhdGUgPT0gMCkgewogICAgICAgIC8vIOWOu+mihuWPlgogICAgICAgIHZhciBrZXksIHJvbGVJZDsKICAgICAgICBrZXkgPSB0aGlzLmRhdGEuZXh0ZW5zaW9uLmtleTsKICAgICAgICByb2xlSWQgPSB0aGlzLmRhdGEuZXh0ZW5zaW9uLnJvbGVJZDsKICAgICAgICBjb25zb2xlLmxvZygnMTEnKTsKICAgICAgICB0aGlzLiRlbWl0KCdjbGljay1yZXBvcnQnLCB0aGlzLmRhdGEsIHRoaXMuc3RhdGUpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUgPT0gMSkgewogICAgICAgIC8vIOWOu+S9v+eUqAogICAgICAgIGlmICh0aGlzLnRpbWVvdXQpIHsKICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpOwogICAgICAgICAgdGhpcy50aW1lb3V0ID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIHZhciBfdGhpcyRkYXRhJGV4dGVuc2lvbiA9IHRoaXMuZGF0YS5leHRlbnNpb24sCiAgICAgICAgICAgIGNvdXBvbktpbmQgPSBfdGhpcyRkYXRhJGV4dGVuc2lvbi5jb3Vwb25LaW5kLAogICAgICAgICAgICBiYXRjaElkID0gX3RoaXMkZGF0YSRleHRlbnNpb24uYmF0Y2hJZCwKICAgICAgICAgICAgc2hvcElkID0gX3RoaXMkZGF0YSRleHRlbnNpb24uc2hvcElkLAogICAgICAgICAgICB2ZW5kZXJJZCA9IF90aGlzJGRhdGEkZXh0ZW5zaW9uLnZlbmRlcklkOwoKICAgICAgICBpZiAoY291cG9uS2luZCA9PSAxIHx8IGNvdXBvbktpbmQgPT0gMykgewogICAgICAgICAgLy8g6Lez5LyY5oOg5Yi46aG16Z2iCiAgICAgICAgICB0aGlzLiRqdW1wLnRvVXNlQ291cG9uKGJhdGNoSWQpOwogICAgICAgIH0gZWxzZSBpZiAoY291cG9uS2luZCA9PSAyKSB7CiAgICAgICAgICAvLyDot7Plupfpk7oKICAgICAgICAgIHRoaXMuJGp1bXAudG9TaG9wKHZlbmRlcklkICsgJycpOwogICAgICAgIH0gZWxzZSBpZiAoY291cG9uS2luZCA9PSAwKSB7CiAgICAgICAgICAvLyDljrvnp5LmnYAKICAgICAgICAgIHRoaXMuJGp1bXAudG9TZWNraWxsKCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgIH0sCiAgICBjbGVhblplcm86IGZ1bmN0aW9uIGNsZWFuWmVybyh2YWx1ZSkgewogICAgICB2YWx1ZSA9IHZhbHVlOwogICAgICB2YXIgcmVzID0gL1wuMCskLy5leGVjKHZhbHVlKTsKCiAgICAgIGlmIChyZXMpIHsKICAgICAgICByZXR1cm4gdmFsdWUuc2xpY2UoMCwgcmVzLmluZGV4KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHZhbHVlOwogICAgfQogIH0KfSk7"},{"version":3,"sources":["/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ailu/Documents/program/nutui-lu/nutui-cat/src/packages/coupon/index.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { createComponent } from '@/utils/create';\nimport connectData  from '@/utils/connect';\nimport { Toast } from '@nutui/nutui';\nimport moment from 'moment'\nconst { componentName, create } = createComponent('coupon');\nconst _toast: any = Toast;\n\nexport default create({\n  props: {\n    data: {\n      type: [Array, Object],\n      default: () => []\n    },\n    type: {\n      type: [String, Number],\n      default: ''\n    },\n    col: {\n      type: [String, Number],\n      default: ''\n    },\n    endTime: {\n      type: Boolean,\n      default: false\n    },\n  },\n  watch: {\n    data(newValue) {\n      if(newValue) {\n        (this as any).dealData((this as any).data[0], (this as any).data[1])\n      }\n    }\n  },\n  data() {\n\t\treturn {\n      data: {},\n      state: '',\n      timer: null,\n    };\n\t},\n  components: {},\n  mounted() {\n  },\n  computed: {\n    classes() {\n      return {\n        [componentName]: true,\n        [`${componentName}-${(this as any).type}`]: (this as any).type,\n        [`${componentName}-${(this as any).col}`]: (this as any).col,\n        [(this as any).data.cImage ? `${componentName}-image` : '']: true,\n        [`${componentName}-${(['get','use','ban'] as any)[(this as any).state]}`]: (this as any).state\n      };\n    },\n    classesCont() {\n      return {\n        [`${componentName}-cont`]: true\n      };\n    },\n    classesInfo() {\n      return {\n        [`${componentName}-info`]: true\n      };\n    },\n    styles() {\n      return {\n        // 'border-radius': ((this as any) as any).radius + 'px'\n      };\n    }\n  },\n  created() {\n    (this as any).dealData((this as any).data[0], (this as any).data[1])\n    // 处理券的字段数据\n    switch (this.type) {\n      case 'normal': this.setNormalCoupon(); break;\n      // case 'finance': this.getFinanceCoupon(); break;\n      // case 'share': this.setShareCoupon(); break;\n    }\n  },\n  methods: {\n    dealData(data, params) {\n      (this as any).data = connectData(data, params);\n    },\n    // 普通商城券\n    setNormalCoupon() {\n      // console.log('data', (this as any).data)\n      let cpnResultCode,soldOut;\n      // 处理跨品类拉新券的字段过滤\n      let ext = (this as any).data.extension\n      let { couponStyle, couponType, subSku } = ext\n      ext.c_img = (subSku && subSku[0]) \n        ? subSku[0].img \n        : (this as any).data.pictureUrl\n          ? (this as any).data.pictureUrl\n          : ''\n      ext.c_tit = (this as any).cleanZero(ext.disCount)\n      ext.c_line1 = (this as any).cleanZero(ext.quota)\n      // ext.c_line2 = (this as any).data.desc ? (this as any).data.desc : ext.limitStr\n      ext.c_line2 = ext.limitStr\n      // 打标\n      if((this as any).data.comments[0] == '$提报备注') {\n        ext.c_label = ''\n      } else {\n        if(ext.couponKind == '0') {\n          console.log('全品类', (this as any).data)\n          ext.c_label = '//img14.360buyimg.com/imagetools/jfs/t1/195318/28/2623/3448/609b45afE641733a6/1e7f343c5ef06ac7.png'\n        } else if(ext.userLabel == '100-1' || ext.userLabel == '100-2') {\n          console.log('plus', (this as any).data)\n          ext.c_label = '//img12.360buyimg.com/imagetools/jfs/t1/188956/31/2750/2587/609b468bE23ebf4c7/b8cd5045221b6a9b.png'\n        }\n      }\n      console.log('ext.endTime', ext.endTime)\n      // 过期时间\n      if(ext.endTime) {\n        let resTime = moment(ext.endTime).fromNow()\n        if(resTime.indexOf('in') != -1) {\n          if(resTime.indexOf('days') != -1){\n            ext.c_endTime = resTime.match(/\\d+/g) + '天后过期'\n            ext.c_endTime111 = '天后过期'\n            console.log('ext.c_endTime 1', ext)\n          } else if(resTime.indexOf('hours') != -1){\n            ext.c_endTime = resTime.match(/\\d+/g) + '小时后过期'\n          }\n          console.log('ext.c_endTime', ext)\n        }\n      }\n      console.log('ext.endTime 1', ext)\n      \n      // 金额、门槛设置\n      // 京贴\n      if (couponStyle == 28) {\n        ext.c_line1 = `每满${(this as any).cleanZero(ext.quota)}减${(this as any).cleanZero(ext.disCount)}`\n      } else {\n        // 折扣券\n        if (couponStyle == 3) {\n          if (+ext.quota) {\n            ext.c_tit = `${Math.round((1 - ext.disCount/ext.quota) * 100) / 10}折`\n          }\n          ext.c_line1 = +ext.quota && +couponType !== 0 ? `满${(this as any).cleanZero(ext.quota)}元可用` : '无门槛'\n        }\n        // 满减、立减券\n        else if (couponType == 0 || couponType == 1) {\n          ext.c_line1 = +ext.quota ? `满${(this as any).cleanZero(ext.quota)}元可用` : '无门槛'\n        }\n        // 物流券\n        if (couponType == 10 && couponStyle == 10) {\n          ext.c_line1 = +ext.quota ? `满${(this as any).cleanZero(ext.quota)}元可用` : '无门槛'\n        }\n        (this as any).$set((this as any).data, 'extension', ext);\n      }\n      cpnResultCode= (this as any).data.extension.cpnResultCode;\n      soldOut= (this as any).data.extension.soldOut;\n      // 设置券状态\n      if (cpnResultCode == 14 || cpnResultCode == 15) {\n        (this as any).state = 1; // 领过\n      } else if (cpnResultCode == 16 || cpnResultCode == 17 || soldOut == 1) {\n        (this as any).state = 2; // 已抢光\n      } else {\n        (this as any).state = 0; // 未领取\n      }\n    },\n    handleClick() {\n      switch ((this as any).type) {\n        case 'normal': (this as any).getCommonCounpon(); break;\n        case 'finance': (this as any).getFinanceCoupon(); break;\n      }\n    },\n    // 获取普通商城券\n    getCommonCounpon() {\n      if ((this as any).state == 0) {\n        // 去领取\n        let key,roleId;\n        key = (this as any).data.extension.key;\n        roleId = (this as any).data.extension.roleId;\n        console.log('11');\n        (this as any).$emit('click-report', (this as any).data, (this as any).state);\n      } else if ((this as any).state == 1) {\n        // 去使用\n        if((this as any).timeout){\n          clearTimeout((this as any).timeout);\n          (this as any).timeout=null;\n        }\n        const { couponKind, batchId, shopId, venderId } = (this as any).data.extension\n        if (couponKind == 1 || couponKind == 3) {\n          // 跳优惠券页面\n          (this as any).$jump.toUseCoupon(batchId)\n        } else if (couponKind == 2) {\n          // 跳店铺\n          (this as any).$jump.toShop(venderId+'')\n        } else if (couponKind == 0) {\n          // 去秒杀\n          (this as any).$jump.toSeckill()\n        }\n        return\n      }\n    },\n    cleanZero (value: string) {\n      value = value\n      let res = /\\.0+$/.exec(value)\n      if (res) {\n        return value.slice(0, res.index)\n      }\n      return value\n    }\n  }\n});\n"],"sourceRoot":""}]}
{"remainingRequest":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/babel-loader/lib/index.js!/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/ts-loader/index.js??ref--13-2!/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ailu/Documents/program/nutui-lu/nutui-cat/src/packages/sharecoupon/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/src/packages/sharecoupon/index.vue","mtime":1631169319480},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvYWlsdS9Eb2N1bWVudHMvcHJvZ3JhbS9udXR1aS1sdS9udXR1aS1jYXQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJ0AvdXRpbHMvY3JlYXRlJzsKaW1wb3J0IHsgVG9hc3QgfSBmcm9tICdAbnV0dWkvbnV0dWknOwoKdmFyIF9jcmVhdGVDb21wb25lbnQgPSBjcmVhdGVDb21wb25lbnQoJ3NoYXJlQ291cG9uJyksCiAgICBjb21wb25lbnROYW1lID0gX2NyZWF0ZUNvbXBvbmVudC5jb21wb25lbnROYW1lLAogICAgY3JlYXRlID0gX2NyZWF0ZUNvbXBvbmVudC5jcmVhdGU7Cgp2YXIgX3RvYXN0ID0gVG9hc3Q7CmV4cG9ydCBkZWZhdWx0IGNyZWF0ZSh7CiAgcHJvcHM6IHsKICAgIGl0ZW06IHsKICAgICAgdHlwZTogW0FycmF5LCBPYmplY3RdLAogICAgICBkZWZhdWx0OiBbXQogICAgfSwKICAgIGltYWdlOiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIEJvb2xlYW5dLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIHRhZzogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgdHlwZTogewogICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgICBkZWZhdWx0OiAnJwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN0YXRlOiAnJwogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHt9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBjb21wdXRlZDogewogICAgY2xhc3NlczogZnVuY3Rpb24gY2xhc3NlcygpIHsKICAgICAgdmFyIF9yZWY7CgogICAgICByZXR1cm4gX3JlZiA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgY29tcG9uZW50TmFtZSwgdHJ1ZSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAiIi5jb25jYXQoY29tcG9uZW50TmFtZSwgIi0iKS5jb25jYXQodGhpcy50eXBlKSwgdGhpcy50eXBlKSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICIiLmNvbmNhdChjb21wb25lbnROYW1lLCAiLSIpLmNvbmNhdChbJ2dldCcsICd1c2UnLCAnYmFuJ11bdGhpcy5zdGF0ZV0pLCB0aGlzLnN0YXRlKSwgX3JlZjsKICAgIH0sCiAgICBjbGFzc2VzQ29udDogZnVuY3Rpb24gY2xhc3Nlc0NvbnQoKSB7CiAgICAgIHJldHVybiBfZGVmaW5lUHJvcGVydHkoe30sICIiLmNvbmNhdChjb21wb25lbnROYW1lLCAiLWNvbnQiKSwgdHJ1ZSk7CiAgICB9LAogICAgY2xhc3Nlc0luZm86IGZ1bmN0aW9uIGNsYXNzZXNJbmZvKCkgewogICAgICByZXR1cm4gX2RlZmluZVByb3BlcnR5KHt9LCAiIi5jb25jYXQoY29tcG9uZW50TmFtZSwgIi1pbmZvIiksIHRydWUpOwogICAgfSwKICAgIHN0eWxlczogZnVuY3Rpb24gc3R5bGVzKCkgewogICAgICByZXR1cm4gey8vICdib3JkZXItcmFkaXVzJzogKCh0aGlzIGFzIGFueSkgYXMgYW55KS5yYWRpdXMgKyAncHgnCiAgICAgIH07CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgLy8g5aSE55CG5Yi455qE5a2X5q615pWw5o2uCiAgICBzd2l0Y2ggKHRoaXMudHlwZSkgewogICAgICBjYXNlICdzaGFyZSc6CiAgICAgICAgdGhpcy5zZXRTaGFyZUNvdXBvbigpOwogICAgICAgIGJyZWFrOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8g5YiG5Lqr5Yi4CiAgICBzZXRTaGFyZUNvdXBvbjogZnVuY3Rpb24gc2V0U2hhcmVDb3Vwb24oKSB7CiAgICAgIHZhciBjcG5SZXN1bHRDb2RlLCBzb2xkT3V0OyAvLyDlpITnkIbot6jlk4Hnsbvmi4nmlrDliLjnmoTlrZfmrrXov4fmu6QKCiAgICAgIHZhciBleHQgPSB0aGlzLml0ZW0uZXh0ZW5zaW9uOwogICAgICB2YXIgcGljdHVyZUxpbmsgPSBleHQucGljdHVyZUxpbms7CiAgICAgIGV4dC51X2ltZyA9IHBpY3R1cmVMaW5rID8gImh0dHBzOi8vbS4zNjBidXlpbWcuY29tL21vYmlsZS9qZnMiLmNvbmNhdChwaWN0dXJlTGluay5zcGxpdCgnL2pmcycpWzFdKSA6ICcnOwogICAgICBleHQudV90aXQgPSB0aGlzLmNsZWFuWmVybyhleHQuZGlzY291bnQpOwogICAgICBleHQudV9saW5lMSA9IHRoaXMuY2xlYW5aZXJvKGV4dC5xdW90YSk7CiAgICAgIGV4dC51X2xpbmUyID0gdGhpcy5pdGVtLmRlc2MgPyB0aGlzLml0ZW0uZGVzYyA6IGV4dC5saW1pdFN0cjsKICAgICAgY29uc29sZS5sb2coJ3VfdGl0IDExJywgZXh0LnVfdGl0KTsgLy8g6YeR6aKd44CB6Zeo5qeb6K6+572uCgogICAgICBleHQudV9saW5lMSA9ICtleHQucXVvdGEgPyAiXHU2RUUxIi5jb25jYXQodGhpcy5jbGVhblplcm8oZXh0LnF1b3RhKSwgIlx1NTE0M1x1NTNFRlx1NzUyOCIpIDogJ+aXoOmXqOanmyc7CiAgICAgIHRoaXMuJHNldCh0aGlzLml0ZW0sICdleHRlbnNpb24nLCBleHQpOyAvLyBjb25zb2xlLmxvZygnZXh0MjIyJywgKHRoaXMgYXMgYW55KS5pdGVtLmV4dGVuc2lvbikKCiAgICAgIGNwblJlc3VsdENvZGUgPSB0aGlzLml0ZW0uZXh0ZW5zaW9uLmNwblJlc3VsdENvZGU7CiAgICAgIHNvbGRPdXQgPSB0aGlzLml0ZW0uZXh0ZW5zaW9uLnNvbGRPdXQ7IC8vIOiuvue9ruWIuOeKtuaAgQoKICAgICAgaWYgKGNwblJlc3VsdENvZGUgPT0gMTQgfHwgY3BuUmVzdWx0Q29kZSA9PSAxNSkgewogICAgICAgIHRoaXMuc3RhdGUgPSAxOyAvLyDpoobov4cKICAgICAgfSBlbHNlIGlmIChjcG5SZXN1bHRDb2RlID09IDE2IHx8IGNwblJlc3VsdENvZGUgPT0gMTcgfHwgc29sZE91dCkgewogICAgICAgIHRoaXMuc3RhdGUgPSAyOyAvLyDlt7LmiqLlhYkKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnN0YXRlID0gMDsgLy8g5pyq6aKG5Y+WCiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24gaGFuZGxlQ2xpY2soKSB7CiAgICAgIC8vICh0aGlzIGFzIGFueSkuJGVtaXQoJ2NsaWNrLXJlcG9ydCcsICh0aGlzIGFzIGFueSkuc3RhdGUpOwogICAgICB0aGlzLiRlbWl0KCdjbGljay1yZXBvcnQnKTsKICAgIH0sCiAgICBjbGVhblplcm86IGZ1bmN0aW9uIGNsZWFuWmVybyh2YWx1ZSkgewogICAgICB2YWx1ZSA9IHZhbHVlOwogICAgICB2YXIgcmVzID0gL1wuMCskLy5leGVjKHZhbHVlKTsKCiAgICAgIGlmIChyZXMpIHsKICAgICAgICByZXR1cm4gdmFsdWUuc2xpY2UoMCwgcmVzLmluZGV4KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHZhbHVlOwogICAgfQogIH0KfSk7"},{"version":3,"sources":["/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ailu/Documents/program/nutui-lu/nutui-cat/src/packages/sharecoupon/index.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { createComponent } from '@/utils/create';\nimport { Toast } from '@nutui/nutui';\nconst { componentName, create } = createComponent('shareCoupon');\nconst _toast: any = Toast;\nexport default create({\n  props: {\n    item: {\n      type: [Array, Object],\n      default: []\n    },\n    image: {\n      type: [String, Boolean],\n      default: ''\n    },\n    tag: {\n      type: String,\n      default: ''\n    },\n    type: {\n      type: [String, Number],\n      default: ''\n    }\n  },\n  data() {\n\t\treturn {\n      state: ''\n    };\n\t},\n  components: {},\n  mounted() {\n  },\n  computed: {\n    classes() {\n      return {\n        [componentName]: true,\n        [`${componentName}-${(this as any).type}`]: (this as any).type,\n        [`${componentName}-${(['get','use','ban'] as any)[(this as any).state]}`]: (this as any).state\n      };\n    },\n    classesCont() {\n      return {\n        [`${componentName}-cont`]: true\n      };\n    },\n    classesInfo() {\n      return {\n        [`${componentName}-info`]: true\n      };\n    },\n    styles() {\n      return {\n        // 'border-radius': ((this as any) as any).radius + 'px'\n      };\n    }\n  },\n  created() {\n    // 处理券的字段数据\n    switch (this.type) {\n      case 'share': this.setShareCoupon(); break;\n    }\n  },\n  methods: {\n    // 分享券\n    setShareCoupon() {\n      let cpnResultCode,soldOut;\n      // 处理跨品类拉新券的字段过滤\n      let ext = (this as any).item.extension\n      let { pictureLink } = ext\n      ext.u_img = pictureLink ? `https://m.360buyimg.com/mobile/jfs${pictureLink.split('/jfs')[1]}` : ''\n      \n      ext.u_tit = (this as any).cleanZero(ext.discount)\n      ext.u_line1 = (this as any).cleanZero(ext.quota)\n      ext.u_line2 = (this as any).item.desc ? (this as any).item.desc : ext.limitStr\n      console.log('u_tit 11', ext.u_tit)\n      // 金额、门槛设置\n\n      ext.u_line1 = +ext.quota ? `满${(this as any).cleanZero(ext.quota)}元可用` : '无门槛';\n      (this as any).$set((this as any).item, 'extension', ext);\n      // console.log('ext222', (this as any).item.extension)\n      cpnResultCode=(this as any).item.extension.cpnResultCode;\n      soldOut=(this as any).item.extension.soldOut;\n      // 设置券状态\n      if (cpnResultCode == 14 || cpnResultCode == 15) {\n        (this as any).state = 1; // 领过\n      } else if (cpnResultCode == 16 || cpnResultCode == 17 || soldOut) {\n        (this as any).state = 2; // 已抢光\n      } else {\n        (this as any).state = 0; // 未领取\n      }\n    },\n    handleClick() {\n      // (this as any).$emit('click-report', (this as any).state);\n      (this as any).$emit('click-report');\n    },\n    cleanZero (value: string) {\n      value = value\n      let res = /\\.0+$/.exec(value)\n      if (res) {\n        return value.slice(0, res.index)\n      }\n      return value\n    }\n  }\n});\n"],"sourceRoot":""}]}
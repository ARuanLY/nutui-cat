{"remainingRequest":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/babel-loader/lib/index.js!/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/ts-loader/index.js??ref--13-2!/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ailu/Documents/program/nutui-lu/nutui-cat/src/packages/sharecoupon/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/src/packages/sharecoupon/index.vue","mtime":1625654783441},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvYWlsdS9Eb2N1bWVudHMvcHJvZ3JhbS9udXR1aS1sdS9udXR1aS1jYXQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnQC91dGlscy9jcmVhdGUnOwppbXBvcnQgeyBUb2FzdCB9IGZyb20gJ0BudXR1aS9udXR1aSc7Cgp2YXIgX2NyZWF0ZUNvbXBvbmVudCA9IGNyZWF0ZUNvbXBvbmVudCgnc2hhcmVDb3Vwb24nKSwKICAgIGNvbXBvbmVudE5hbWUgPSBfY3JlYXRlQ29tcG9uZW50LmNvbXBvbmVudE5hbWUsCiAgICBjcmVhdGUgPSBfY3JlYXRlQ29tcG9uZW50LmNyZWF0ZTsKCnZhciBfdG9hc3QgPSBUb2FzdDsKZXhwb3J0IGRlZmF1bHQgY3JlYXRlKHsKICBwcm9wczogewogICAgaXRlbTogewogICAgICB0eXBlOiBbQXJyYXksIE9iamVjdF0sCiAgICAgIGRlZmF1bHQ6IFtdCiAgICB9LAogICAgaW1hZ2U6IHsKICAgICAgdHlwZTogW1N0cmluZywgQm9vbGVhbl0sCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgdGFnOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICB0eXBlOiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3RhdGU6ICcnCiAgICB9OwogIH0sCiAgY29tcG9uZW50czoge30sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9LAogIGNvbXB1dGVkOiB7CiAgICBjbGFzc2VzOiBmdW5jdGlvbiBjbGFzc2VzKCkgewogICAgICB2YXIgX3JlZjsKCiAgICAgIHJldHVybiBfcmVmID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCBjb21wb25lbnROYW1lLCB0cnVlKSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICIiLmNvbmNhdChjb21wb25lbnROYW1lLCAiLSIpLmNvbmNhdCh0aGlzLnR5cGUpLCB0aGlzLnR5cGUpLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgIiIuY29uY2F0KGNvbXBvbmVudE5hbWUsICItIikuY29uY2F0KFsnZ2V0JywgJ3VzZScsICdiYW4nXVt0aGlzLnN0YXRlXSksIHRoaXMuc3RhdGUpLCBfcmVmOwogICAgfSwKICAgIGNsYXNzZXNDb250OiBmdW5jdGlvbiBjbGFzc2VzQ29udCgpIHsKICAgICAgcmV0dXJuIF9kZWZpbmVQcm9wZXJ0eSh7fSwgIiIuY29uY2F0KGNvbXBvbmVudE5hbWUsICItY29udCIpLCB0cnVlKTsKICAgIH0sCiAgICBjbGFzc2VzSW5mbzogZnVuY3Rpb24gY2xhc3Nlc0luZm8oKSB7CiAgICAgIHJldHVybiBfZGVmaW5lUHJvcGVydHkoe30sICIiLmNvbmNhdChjb21wb25lbnROYW1lLCAiLWluZm8iKSwgdHJ1ZSk7CiAgICB9LAogICAgc3R5bGVzOiBmdW5jdGlvbiBzdHlsZXMoKSB7CiAgICAgIHJldHVybiB7Ly8gJ2JvcmRlci1yYWRpdXMnOiAoKHRoaXMgYXMgYW55KSBhcyBhbnkpLnJhZGl1cyArICdweCcKICAgICAgfTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAvLyDlpITnkIbliLjnmoTlrZfmrrXmlbDmja4KICAgIHN3aXRjaCAodGhpcy50eXBlKSB7CiAgICAgIGNhc2UgJ25vcm1hbCc6CiAgICAgICAgdGhpcy5zZXROb3JtYWxDb3Vwb24oKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ2ZpbmFuY2UnOgogICAgICAgIHRoaXMuZ2V0RmluYW5jZUNvdXBvbigpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnc2hhcmUnOgogICAgICAgIHRoaXMuc2V0U2hhcmVDb3Vwb24oKTsKICAgICAgICBicmVhazsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOaZrumAmuWVhuWfjuWIuAogICAgc2V0Tm9ybWFsQ291cG9uOiBmdW5jdGlvbiBzZXROb3JtYWxDb3Vwb24oKSB7CiAgICAgIHZhciBjcG5SZXN1bHRDb2RlLCBzb2xkT3V0OyAvLyDlpITnkIbot6jlk4Hnsbvmi4nmlrDliLjnmoTlrZfmrrXov4fmu6QKCiAgICAgIHZhciBleHQgPSB0aGlzLml0ZW0uZXh0ZW5zaW9uOwogICAgICB2YXIgY291cG9uU3R5bGUgPSBleHQuY291cG9uU3R5bGUsCiAgICAgICAgICBjb3Vwb25UeXBlID0gZXh0LmNvdXBvblR5cGUsCiAgICAgICAgICBzdWJTa3UgPSBleHQuc3ViU2t1OwogICAgICBleHQudV9pbWcgPSBzdWJTa3UgJiYgc3ViU2t1WzBdID8gc3ViU2t1WzBdLmltZyA6IHRoaXMuaXRlbS5waWN0dXJlVXJsID8gdGhpcy5pdGVtLnBpY3R1cmVVcmwgOiAnJzsKICAgICAgY29uc29sZS5sb2coJ2V4dCcsIGV4dCk7CiAgICAgIGV4dC51X3RpdCA9IHRoaXMuY2xlYW5aZXJvKGV4dC5kaXNDb3VudCk7CiAgICAgIGV4dC51X2xpbmUxID0gdGhpcy5jbGVhblplcm8oZXh0LnF1b3RhKTsKICAgICAgZXh0LnVfbGluZTIgPSB0aGlzLml0ZW0uZGVzYyA/IHRoaXMuaXRlbS5kZXNjIDogZXh0LmxpbWl0U3RyOyAvLyDmiZPmoIcKCiAgICAgIGlmICh0aGlzLml0ZW0uY29tbWVudHNbMF0gPT0gJyTmj5DmiqXlpIfms6gnKSB7CiAgICAgICAgZXh0LnVfbGFiZWwgPSAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoZXh0LmNvdXBvbktpbmQgPT0gJzAnKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygn5YWo5ZOB57G7JywgdGhpcy5pdGVtKTsKICAgICAgICAgIGV4dC51X2xhYmVsID0gJy8vaW1nMTQuMzYwYnV5aW1nLmNvbS9pbWFnZXRvb2xzL2pmcy90MS8xOTUzMTgvMjgvMjYyMy8zNDQ4LzYwOWI0NWFmRTY0MTczM2E2LzFlN2YzNDNjNWVmMDZhYzcucG5nJzsKICAgICAgICB9IGVsc2UgaWYgKGV4dC51c2VyTGFiZWwgPT0gJzEwMC0xJyB8fCBleHQudXNlckxhYmVsID09ICcxMDAtMicpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdwbHVzJywgdGhpcy5pdGVtKTsKICAgICAgICAgIGV4dC51X2xhYmVsID0gJy8vaW1nMTIuMzYwYnV5aW1nLmNvbS9pbWFnZXRvb2xzL2pmcy90MS8xODg5NTYvMzEvMjc1MC8yNTg3LzYwOWI0NjhiRTIzZWJmNGM3L2I4Y2Q1MDQ1MjIxYjZhOWIucG5nJzsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKCdleHQgMScsIGV4dCk7IC8vIOmHkemineOAgemXqOanm+iuvue9rgogICAgICAvLyDkuqzotLQKCiAgICAgIGlmIChjb3Vwb25TdHlsZSA9PSAyOCkgewogICAgICAgIGV4dC51X2xpbmUxID0gIlx1NkJDRlx1NkVFMSIuY29uY2F0KHRoaXMuY2xlYW5aZXJvKGV4dC5xdW90YSksICJcdTUxQ0YiKS5jb25jYXQodGhpcy5jbGVhblplcm8oZXh0LmRpc0NvdW50KSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5oqY5omj5Yi4CiAgICAgICAgaWYgKGNvdXBvblN0eWxlID09IDMpIHsKICAgICAgICAgIGlmICgrZXh0LnF1b3RhKSB7CiAgICAgICAgICAgIGV4dC51X3RpdCA9ICIiLmNvbmNhdChNYXRoLnJvdW5kKCgxIC0gZXh0LmRpc0NvdW50IC8gZXh0LnF1b3RhKSAqIDEwMCkgLyAxMCwgIlx1NjI5OCIpOwogICAgICAgICAgfQoKICAgICAgICAgIGV4dC51X2xpbmUxID0gK2V4dC5xdW90YSAmJiArY291cG9uVHlwZSAhPT0gMCA/ICJcdTZFRTEiLmNvbmNhdCh0aGlzLmNsZWFuWmVybyhleHQucXVvdGEpLCAiXHU1MTQzXHU1M0VGXHU3NTI4IikgOiAn5peg6Zeo5qebJzsKICAgICAgICB9IC8vIOa7oeWHj+OAgeeri+WHj+WIuAogICAgICAgIGVsc2UgaWYgKGNvdXBvblR5cGUgPT0gMCB8fCBjb3Vwb25UeXBlID09IDEpIHsKICAgICAgICAgIGV4dC51X2xpbmUxID0gK2V4dC5xdW90YSA/ICJcdTZFRTEiLmNvbmNhdCh0aGlzLmNsZWFuWmVybyhleHQucXVvdGEpLCAiXHU1MTQzXHU1M0VGXHU3NTI4IikgOiAn5peg6Zeo5qebJzsKICAgICAgICB9IC8vIOeJqea1geWIuAoKCiAgICAgICAgaWYgKGNvdXBvblR5cGUgPT0gMTAgJiYgY291cG9uU3R5bGUgPT0gMTApIHsKICAgICAgICAgIGV4dC51X2xpbmUxID0gK2V4dC5xdW90YSA/ICJcdTZFRTEiLmNvbmNhdCh0aGlzLmNsZWFuWmVybyhleHQucXVvdGEpLCAiXHU1MTQzXHU1M0VGXHU3NTI4IikgOiAn5peg6Zeo5qebJzsKICAgICAgICB9CgogICAgICAgIHRoaXMuJHNldCh0aGlzLml0ZW0sICdleHRlbnNpb24nLCBleHQpOwogICAgICB9CgogICAgICBjcG5SZXN1bHRDb2RlID0gdGhpcy5pdGVtLmV4dGVuc2lvbi5jcG5SZXN1bHRDb2RlOwogICAgICBzb2xkT3V0ID0gdGhpcy5pdGVtLmV4dGVuc2lvbi5zb2xkT3V0OyAvLyDorr7nva7liLjnirbmgIEKCiAgICAgIGlmIChjcG5SZXN1bHRDb2RlID09IDE0IHx8IGNwblJlc3VsdENvZGUgPT0gMTUpIHsKICAgICAgICB0aGlzLnN0YXRlID0gMTsgLy8g6aKG6L+HCiAgICAgIH0gZWxzZSBpZiAoY3BuUmVzdWx0Q29kZSA9PSAxNiB8fCBjcG5SZXN1bHRDb2RlID09IDE3IHx8IHNvbGRPdXQgPT0gMSkgewogICAgICAgIHRoaXMuc3RhdGUgPSAyOyAvLyDlt7LmiqLlhYkKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnN0YXRlID0gMDsgLy8g5pyq6aKG5Y+WCiAgICAgIH0KICAgIH0sCiAgICAvLyDliIbkuqvliLgKICAgIHNldFNoYXJlQ291cG9uOiBmdW5jdGlvbiBzZXRTaGFyZUNvdXBvbigpIHsKICAgICAgdmFyIGNwblJlc3VsdENvZGUsIHNvbGRPdXQ7IC8vIOWkhOeQhui3qOWTgeexu+aLieaWsOWIuOeahOWtl+autei/h+a7pAoKICAgICAgdmFyIGV4dCA9IHRoaXMuaXRlbS5leHRlbnNpb247CiAgICAgIHZhciBwaWN0dXJlTGluayA9IGV4dC5waWN0dXJlTGluazsKICAgICAgZXh0LnVfaW1nID0gcGljdHVyZUxpbmsgPyAiaHR0cHM6Ly9tLjM2MGJ1eWltZy5jb20vbW9iaWxlL2pmcyIuY29uY2F0KHBpY3R1cmVMaW5rLnNwbGl0KCcvamZzJylbMV0pIDogJyc7CiAgICAgIGV4dC51X3RpdCA9IHRoaXMuY2xlYW5aZXJvKGV4dC5kaXNjb3VudCk7CiAgICAgIGV4dC51X2xpbmUxID0gdGhpcy5jbGVhblplcm8oZXh0LnF1b3RhKTsKICAgICAgZXh0LnVfbGluZTIgPSB0aGlzLml0ZW0uZGVzYyA/IHRoaXMuaXRlbS5kZXNjIDogZXh0LmxpbWl0U3RyOwogICAgICBjb25zb2xlLmxvZygndV90aXQgMTEnLCBleHQudV90aXQpOyAvLyDph5Hpop3jgIHpl6jmp5vorr7nva4KCiAgICAgIGV4dC51X2xpbmUxID0gK2V4dC5xdW90YSA/ICJcdTZFRTEiLmNvbmNhdCh0aGlzLmNsZWFuWmVybyhleHQucXVvdGEpLCAiXHU1MTQzXHU1M0VGXHU3NTI4IikgOiAn5peg6Zeo5qebJzsKICAgICAgdGhpcy4kc2V0KHRoaXMuaXRlbSwgJ2V4dGVuc2lvbicsIGV4dCk7IC8vIGNvbnNvbGUubG9nKCdleHQyMjInLCAodGhpcyBhcyBhbnkpLml0ZW0uZXh0ZW5zaW9uKQoKICAgICAgY3BuUmVzdWx0Q29kZSA9IHRoaXMuaXRlbS5leHRlbnNpb24uY3BuUmVzdWx0Q29kZTsKICAgICAgc29sZE91dCA9IHRoaXMuaXRlbS5leHRlbnNpb24uc29sZE91dDsgLy8g6K6+572u5Yi454q25oCBCgogICAgICBpZiAoY3BuUmVzdWx0Q29kZSA9PSAxNCB8fCBjcG5SZXN1bHRDb2RlID09IDE1KSB7CiAgICAgICAgdGhpcy5zdGF0ZSA9IDE7IC8vIOmihui/hwogICAgICB9IGVsc2UgaWYgKGNwblJlc3VsdENvZGUgPT0gMTYgfHwgY3BuUmVzdWx0Q29kZSA9PSAxNyB8fCBzb2xkT3V0KSB7CiAgICAgICAgdGhpcy5zdGF0ZSA9IDI7IC8vIOW3suaKouWFiQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc3RhdGUgPSAwOyAvLyDmnKrpooblj5YKICAgICAgfQogICAgfSwKICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbiBoYW5kbGVDbGljaygpIHsKICAgICAgc3dpdGNoICh0aGlzLnR5cGUpIHsKICAgICAgICBjYXNlICdub3JtYWwnOgogICAgICAgICAgdGhpcy5nZXRDb21tb25Db3VucG9uKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnZmluYW5jZSc6CiAgICAgICAgICB0aGlzLmdldEZpbmFuY2VDb3Vwb24oKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICdzaGFyZSc6CiAgICAgICAgICB0aGlzLmdldEZpbmFuY2VDb3Vwb24oKTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9LAogICAgLy8g6I635Y+W5pmu6YCa5ZWG5Z+O5Yi4CiAgICBnZXRDb21tb25Db3VucG9uOiBmdW5jdGlvbiBnZXRDb21tb25Db3VucG9uKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuc3RhdGUgPT0gMCkgewogICAgICAgIC8vIOWOu+mihuWPlgogICAgICAgIHZhciBrZXksIHJvbGVJZDsKICAgICAgICBrZXkgPSB0aGlzLml0ZW0uZXh0ZW5zaW9uLmtleTsKICAgICAgICByb2xlSWQgPSB0aGlzLml0ZW0uZXh0ZW5zaW9uLnJvbGVJZDsKICAgICAgICBjb25zb2xlLmxvZygnMTEnKTsKICAgICAgICB0aGlzLiRlbWl0KCdjbGljay1yZXBvcnQnLCB0aGlzLnN0YXRlKTsKICAgICAgICBjb25zb2xlLmxvZygnMjInKTsKICAgICAgICB0aGlzLmJhc2VTZXJ2aWNlLm5ld0JhYmVsQXdhcmRDb2xsZWN0aW9uKGtleSwgcm9sZUlkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKCFyZXNwb25zZSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9IC8vIOiLpSBzdWJjb2RlPUExLCDmjInpkq7mmL7npLrljrvkvb/nlKjvvJsKICAgICAgICAgIC8vIOiLpSBzdWJjb2RlPUExNOOAgUExNe+8jOaMiemSruaYvuekuuW3suaKouWFie+8mwogICAgICAgICAgLy8g6IulIHN1YmNvZGU9QTEy44CBQTEz77yM5oyJ6ZKu5pi+56S65Y675L2/55So77ybCiAgICAgICAgICAvLyDoi6UgY29kZT02MDHvvIznvZHlhbPov5Tlm550aXBz4oCc5b6I5oqx5q2J77yM5rKh5oqi5Yiwfn7igJ3vvIzliY3nq6/pgI/kvKDvvJsKICAgICAgICAgIC8vIGVsc2XvvIzmmL7npLrigJznvZHnu5zlvILluLjvvIzor7fmo4Dmn6XlkI7lsJ3or5XigJ3vvJsKCgogICAgICAgICAgdmFyIGNvZGUgPSByZXNwb25zZS5jb2RlLAogICAgICAgICAgICAgIHN1YkNvZGUgPSByZXNwb25zZS5zdWJDb2RlLAogICAgICAgICAgICAgIHN1YkNvZGVNc2cgPSByZXNwb25zZS5zdWJDb2RlTXNnOwogICAgICAgICAgY29uc29sZS5sb2coJ3Jlc3BvbnNlJywgcmVzcG9uc2UpOyAvL+mihuWPluaIkOWKnwoKICAgICAgICAgIHZhciBpc1N1Y2Nlc3MgPSBbIkExIiwgIkExMiIsICJBMTMiLCAiQjEzIiwgIkMxMjEwIl0uaW5jbHVkZXMoc3ViQ29kZSk7IC8v5oqi5YWJCgogICAgICAgICAgdmFyIHJvYmJlZCA9IFsiQTE0IiwgIkExNSIsICJCOSIsICJCMTAiLCAiQjExIiwgIkIxMiIsICJCMTQiLCAiQjE1IiwgIkMxMjA2IiwgIkMxMjExIiwgIjE0MDEiXS5pbmNsdWRlcyhzdWJDb2RlKTsKCiAgICAgICAgICBpZiAoY29kZSA9PSAiMyIpIHsKICAgICAgICAgICAgX3RoaXMuJHJlcG9ydENsaWNrKCdCYWJlbF9kZXZfYWR2X3lvdWh1aXF1YW4nLCBfdGhpcy4kZ2V0KCdpdGVtLnNydi5CYWJlbF9kZXZfYWR2X3lvdWh1aXF1YW4nKSwgewogICAgICAgICAgICAgIGFidGVzdDogX3RoaXMuc3RhdGVIZWFkZXJJbmRleCwKICAgICAgICAgICAgICB1c2VGbGFnOiAnMCcKICAgICAgICAgICAgfSkoX3RoaXMpLiRqdW1wLnRvTG9naW4oKTsKCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoY29kZSA9PSAiNjAxIikgewogICAgICAgICAgICBfdG9hc3QudGV4dCgi5b6I5oqx5q2J77yM5rKh5oqi5Yiwfn4iLCB7CiAgICAgICAgICAgICAgaWNvbjogImh0dHBzOi8vaW1nMTQuMzYwYnV5aW1nLmNvbS9pbWFnZXRvb2xzL2pmcy90MS8xNjE5NDQvMzAvMzIwMC8xODY1LzYwMDRmODhiRTliZDk1ZTViLzgzYzc4ZWVjYjFjNjJhZDMucG5nIgogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0gLy/pooblj5bmiJDlip8KCgogICAgICAgICAgaWYgKGlzU3VjY2VzcykgewogICAgICAgICAgICBfdGhpcy5zdGF0ZSA9IDE7CgogICAgICAgICAgICBfdG9hc3QudGV4dCgi5oqi5Yi45oiQ5Yqf77yM5b+r5Y676LSt5Lmw5ZCnfiIsIHsKICAgICAgICAgICAgICBpY29uOiAiaHR0cHM6Ly9pbWcxMC4zNjBidXlpbWcuY29tL2ltYWdldG9vbHMvamZzL3QxLzE1NTI1Ny8zLzE1MjE2LzIyNTIvNjAwNGY4ODVFNGUyNDhhYmYvODE2MmQzOWYxZDgyNDcyZS5wbmciCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfSBlbHNlIGlmIChyb2JiZWQpIHsKICAgICAgICAgICAgX3RoaXMuc3RhdGUgPSAyOwogICAgICAgICAgfQoKICAgICAgICAgIF90b2FzdC50ZXh0KHN1YkNvZGVNc2cgfHwgIua0u+WKqOWkqueBq+eIhu+8jOivt+eojeWQjuWGjeivlX4iLCB7CiAgICAgICAgICAgIGljb246ICJodHRwczovL2ltZzE0LjM2MGJ1eWltZy5jb20vaW1hZ2V0b29scy9qZnMvdDEvMTYxOTQ0LzMwLzMyMDAvMTg2NS82MDA0Zjg4YkU5YmQ5NWU1Yi84M2M3OGVlY2IxYzYyYWQzLnBuZyIKICAgICAgICAgIH0pOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgIF90b2FzdC50ZXh0KCLnvZHnu5zpk77mjqXlpLHotKXvvIzor7fnqI3lkI7lho3or5V+IiwgewogICAgICAgICAgICBpY29uOiAiaHR0cHM6Ly9pbWcxNC4zNjBidXlpbWcuY29tL2ltYWdldG9vbHMvamZzL3QxLzE2MTk0NC8zMC8zMjAwLzE4NjUvNjAwNGY4OGJFOWJkOTVlNWIvODNjNzhlZWNiMWM2MmFkMy5wbmciCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlID09IDEpIHsKICAgICAgICAvLyDljrvkvb/nlKgKICAgICAgICBpZiAodGhpcy50aW1lb3V0KSB7CiAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTsKICAgICAgICAgIHRoaXMudGltZW91dCA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICB2YXIgX3RoaXMkaXRlbSRleHRlbnNpb24gPSB0aGlzLml0ZW0uZXh0ZW5zaW9uLAogICAgICAgICAgICBjb3Vwb25LaW5kID0gX3RoaXMkaXRlbSRleHRlbnNpb24uY291cG9uS2luZCwKICAgICAgICAgICAgYmF0Y2hJZCA9IF90aGlzJGl0ZW0kZXh0ZW5zaW9uLmJhdGNoSWQsCiAgICAgICAgICAgIHNob3BJZCA9IF90aGlzJGl0ZW0kZXh0ZW5zaW9uLnNob3BJZCwKICAgICAgICAgICAgdmVuZGVySWQgPSBfdGhpcyRpdGVtJGV4dGVuc2lvbi52ZW5kZXJJZDsKCiAgICAgICAgaWYgKGNvdXBvbktpbmQgPT0gMSB8fCBjb3Vwb25LaW5kID09IDMpIHsKICAgICAgICAgIC8vIOi3s+S8mOaDoOWIuOmhtemdogogICAgICAgICAgdGhpcy4kanVtcC50b1VzZUNvdXBvbihiYXRjaElkKTsKICAgICAgICB9IGVsc2UgaWYgKGNvdXBvbktpbmQgPT0gMikgewogICAgICAgICAgLy8g6Lez5bqX6ZO6CiAgICAgICAgICB0aGlzLiRqdW1wLnRvU2hvcCh2ZW5kZXJJZCArICcnKTsKICAgICAgICB9IGVsc2UgaWYgKGNvdXBvbktpbmQgPT0gMCkgewogICAgICAgICAgLy8g5Y6756eS5p2ACiAgICAgICAgICB0aGlzLiRqdW1wLnRvU2Vja2lsbCgpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9LAogICAgLy8g6I635Y+W6YeR6J6N5Yi4CiAgICBnZXRGaW5hbmNlQ291cG9uOiBmdW5jdGlvbiBnZXRGaW5hbmNlQ291cG9uKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnN0YXRlID09IDApIHsKICAgICAgICB2YXIgX3RoaXMkaXRlbSRleHRlbnNpb24yID0gdGhpcy5pdGVtLmV4dGVuc2lvbiwKICAgICAgICAgICAga2V5ID0gX3RoaXMkaXRlbSRleHRlbnNpb24yLmtleSwKICAgICAgICAgICAgcm9sZUlkID0gX3RoaXMkaXRlbSRleHRlbnNpb24yLnJvbGVJZDsKICAgICAgICB0aGlzLmJhc2VTZXJ2aWNlLm5ld0JhYmVsQXdhcmRDb2xsZWN0aW9uKGtleSwgcm9sZUlkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKCFyZXNwb25zZSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIGNvZGUgPSByZXNwb25zZS5jb2RlLAogICAgICAgICAgICAgIHN1YkNvZGUgPSByZXNwb25zZS5zdWJDb2RlLAogICAgICAgICAgICAgIHN1YkNvZGVNc2cgPSByZXNwb25zZS5zdWJDb2RlTXNnOwoKICAgICAgICAgIGlmIChjb2RlID09ICIzIikgewogICAgICAgICAgICBfdGhpczIuJGp1bXAudG9Mb2dpbigpOwoKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBzdWNjZXNzID0gY29kZSA9PSAwICYmIChzdWJDb2RlID09ICIwIiB8fCBzdWJDb2RlID09ICIwMDMwIiB8fCBzdWJDb2RlID09ICIyMDAwOCIpOwogICAgICAgICAgdmFyIHJvYmJlZCA9IHN1YkNvZGUgPT0gIjAwMjAiIHx8IHN1YkNvZGUgPT0gIjAwMjEiIHx8IHN1YkNvZGUgPT0gIjIwMDExIiB8fCBzdWJDb2RlID09ICIyMDAxMiIgfHwgc3ViQ29kZSA9PSAiMjAwMzMiOwoKICAgICAgICAgIGlmIChzdWNjZXNzKSB7CiAgICAgICAgICAgIF90aGlzMi5zdGF0ZSA9IDE7CiAgICAgICAgICAgIF90aGlzMi50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgaWYgKF90aGlzMi5pdGVtLmV4dGVuc2lvbiAmJiBfdGhpczIuaXRlbS5leHRlbnNpb24uanVtcExpbmspIHsKICAgICAgICAgICAgICAgIF90aGlzMi4kanVtcC50b1VybChfdGhpczIuaXRlbS5leHRlbnNpb24uanVtcExpbmspOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgMjAwMCk7CgogICAgICAgICAgICBfdGhpczIuJHRvYXN0KCLmiqLliLjmiJDlip/vvIzlv6vljrvotK3kubDlkKd+Iik7CgogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHJvYmJlZCkgewogICAgICAgICAgICBfdGhpczIuc3RhdGUgPSAyOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzMi4kdG9hc3Qoc3ViQ29kZU1zZyB8fCAi5rS75Yqo5aSq54Gr54iG77yM6K+356iN5ZCO5YaN6K+VfiIpOwogICAgICAgIH0sIGZ1bmN0aW9uICgpIHt9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgY29uc29sZS5sb2coZSk7CgogICAgICAgICAgX3RoaXMyLiR0b2FzdCgi572R57uc6ZO+5o6l5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VfiIpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUgPT0gMSkgewogICAgICAgIGlmICh0aGlzLnRpbWVvdXQpIHsKICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpOwogICAgICAgICAgdGhpcy50aW1lb3V0ID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLml0ZW0uZXh0ZW5zaW9uICYmIHRoaXMuaXRlbS5leHRlbnNpb24uanVtcExpbmspIHsKICAgICAgICAgIHRoaXMuJGp1bXAudG9VcmwodGhpcy5pdGVtLmV4dGVuc2lvbi5qdW1wTGluayk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8g6I635Y+W5YiG5Lqr5Yi4CiAgICBnZXRTaGFyZUNvdXBvbjogZnVuY3Rpb24gZ2V0U2hhcmVDb3Vwb24oKSB7CiAgICAgIHRoaXMuJHJlcG9ydENsaWNrKCdCYWJlbF9kZXZfYWR2XzIxTkhOVl9TaGFyZUNvdXBvbicsIHRoaXMuJGdldCgnaXRlbS5zcnYuQmFiZWxfZGV2X2Fkdl8yMU5ITlZfU2hhcmVDb3Vwb24nKSkodGhpcykuJGp1bXAudG9VcmwodGhpcy5pdGVtLmV4dGVuc2lvbi5zb3VyY2VMaW5rKTsKICAgIH0sCiAgICBjbGVhblplcm86IGZ1bmN0aW9uIGNsZWFuWmVybyh2YWx1ZSkgewogICAgICB2YWx1ZSA9IHZhbHVlOwogICAgICB2YXIgcmVzID0gL1wuMCskLy5leGVjKHZhbHVlKTsKCiAgICAgIGlmIChyZXMpIHsKICAgICAgICByZXR1cm4gdmFsdWUuc2xpY2UoMCwgcmVzLmluZGV4KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHZhbHVlOwogICAgfQogIH0KfSk7"},{"version":3,"sources":["/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ailu/Documents/program/nutui-lu/nutui-cat/src/packages/sharecoupon/index.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { createComponent } from '@/utils/create';\nimport { Toast } from '@nutui/nutui';\nconst { componentName, create } = createComponent('shareCoupon');\nconst _toast: any = Toast;\nexport default create({\n  props: {\n    item: {\n      type: [Array, Object],\n      default: []\n    },\n    image: {\n      type: [String, Boolean],\n      default: ''\n    },\n    tag: {\n      type: String,\n      default: ''\n    },\n    type: {\n      type: [String, Number],\n      default: ''\n    }\n  },\n  data() {\n\t\treturn {\n      state: ''\n    };\n\t},\n  components: {},\n  mounted() {\n  },\n  computed: {\n    classes() {\n      return {\n        [componentName]: true,\n        [`${componentName}-${(this as any).type}`]: (this as any).type,\n        [`${componentName}-${(['get','use','ban'] as any)[(this as any).state]}`]: (this as any).state\n      };\n    },\n    classesCont() {\n      return {\n        [`${componentName}-cont`]: true\n      };\n    },\n    classesInfo() {\n      return {\n        [`${componentName}-info`]: true\n      };\n    },\n    styles() {\n      return {\n        // 'border-radius': ((this as any) as any).radius + 'px'\n      };\n    }\n  },\n  created() {\n    // 处理券的字段数据\n    switch (this.type) {\n      case 'normal': this.setNormalCoupon(); break;\n      case 'finance': this.getFinanceCoupon(); break;\n      case 'share': this.setShareCoupon(); break;\n    }\n  },\n  methods: {\n    // 普通商城券\n    setNormalCoupon() {\n      let cpnResultCode,soldOut;\n      // 处理跨品类拉新券的字段过滤\n      let ext = (this as any).item.extension\n      let { couponStyle, couponType, subSku } = ext\n\n      ext.u_img = (subSku && subSku[0]) \n        ? subSku[0].img \n        : (this as any).item.pictureUrl\n          ? (this as any).item.pictureUrl\n          : ''\n      console.log('ext', ext)\n      ext.u_tit = (this as any).cleanZero(ext.disCount)\n      ext.u_line1 = (this as any).cleanZero(ext.quota)\n      ext.u_line2 = (this as any).item.desc ? (this as any).item.desc : ext.limitStr\n      // 打标\n      if((this as any).item.comments[0] == '$提报备注') {\n        ext.u_label = ''\n      } else {\n        if(ext.couponKind == '0') {\n          console.log('全品类', (this as any).item)\n          ext.u_label = '//img14.360buyimg.com/imagetools/jfs/t1/195318/28/2623/3448/609b45afE641733a6/1e7f343c5ef06ac7.png'\n        } else if(ext.userLabel == '100-1' || ext.userLabel == '100-2') {\n          console.log('plus', (this as any).item)\n          ext.u_label = '//img12.360buyimg.com/imagetools/jfs/t1/188956/31/2750/2587/609b468bE23ebf4c7/b8cd5045221b6a9b.png'\n        }\n      }\n      console.log('ext 1', ext)\n      // 金额、门槛设置\n      // 京贴\n      if (couponStyle == 28) {\n        ext.u_line1 = `每满${(this as any).cleanZero(ext.quota)}减${(this as any).cleanZero(ext.disCount)}`\n      } else {\n        // 折扣券\n        if (couponStyle == 3) {\n          if (+ext.quota) {\n            ext.u_tit = `${Math.round((1 - ext.disCount/ext.quota) * 100) / 10}折`\n          }\n          ext.u_line1 = +ext.quota && +couponType !== 0 ? `满${(this as any).cleanZero(ext.quota)}元可用` : '无门槛'\n        }\n        // 满减、立减券\n        else if (couponType == 0 || couponType == 1) {\n          ext.u_line1 = +ext.quota ? `满${(this as any).cleanZero(ext.quota)}元可用` : '无门槛'\n        }\n        // 物流券\n        if (couponType == 10 && couponStyle == 10) {\n          ext.u_line1 = +ext.quota ? `满${(this as any).cleanZero(ext.quota)}元可用` : '无门槛'\n        }\n        (this as any).$set((this as any).item, 'extension', ext);\n      }\n      cpnResultCode= (this as any).item.extension.cpnResultCode;\n      soldOut= (this as any).item.extension.soldOut;\n      // 设置券状态\n      if (cpnResultCode == 14 || cpnResultCode == 15) {\n        (this as any).state = 1; // 领过\n      } else if (cpnResultCode == 16 || cpnResultCode == 17 || soldOut == 1) {\n        (this as any).state = 2; // 已抢光\n      } else {\n        (this as any).state = 0; // 未领取\n      }\n    },\n    // 分享券\n    setShareCoupon() {\n      let cpnResultCode,soldOut;\n      // 处理跨品类拉新券的字段过滤\n      let ext = (this as any).item.extension\n      let { pictureLink } = ext\n      ext.u_img = pictureLink ? `https://m.360buyimg.com/mobile/jfs${pictureLink.split('/jfs')[1]}` : ''\n      \n      ext.u_tit = (this as any).cleanZero(ext.discount)\n      ext.u_line1 = (this as any).cleanZero(ext.quota)\n      ext.u_line2 = (this as any).item.desc ? (this as any).item.desc : ext.limitStr\n      console.log('u_tit 11', ext.u_tit)\n      // 金额、门槛设置\n\n      ext.u_line1 = +ext.quota ? `满${(this as any).cleanZero(ext.quota)}元可用` : '无门槛';\n      (this as any).$set((this as any).item, 'extension', ext);\n      // console.log('ext222', (this as any).item.extension)\n      cpnResultCode=(this as any).item.extension.cpnResultCode;\n      soldOut=(this as any).item.extension.soldOut;\n      // 设置券状态\n      if (cpnResultCode == 14 || cpnResultCode == 15) {\n        (this as any).state = 1; // 领过\n      } else if (cpnResultCode == 16 || cpnResultCode == 17 || soldOut) {\n        (this as any).state = 2; // 已抢光\n      } else {\n        (this as any).state = 0; // 未领取\n      }\n    },\n    handleClick() {\n      switch ((this as any).type) {\n        case 'normal': (this as any).getCommonCounpon(); break;\n        case 'finance': (this as any).getFinanceCoupon(); break;\n        case 'share': (this as any).getFinanceCoupon(); break;\n      }\n    },\n    // 获取普通商城券\n    getCommonCounpon() {\n      if ((this as any).state == 0) {\n        // 去领取\n        let key,roleId;\n        key = (this as any).item.extension.key;\n        roleId = (this as any).item.extension.roleId;\n        console.log('11');\n        (this as any).$emit('click-report', (this as any).state);\n        console.log('22');\n        (this as any).baseService.newBabelAwardCollection(key, roleId).then((response: any) => {\n          if (!response) {\n            return;\n          }\n          // 若 subcode=A1, 按钮显示去使用；\n          // 若 subcode=A14、A15，按钮显示已抢光；\n          // 若 subcode=A12、A13，按钮显示去使用；\n          // 若 code=601，网关返回tips“很抱歉，没抢到~~”，前端透传；\n          // else，显示“网络异常，请检查后尝试”；\n          const { code, subCode, subCodeMsg } = response;\n          console.log('response', response);\n          //领取成功\n          var isSuccess = [\"A1\", \"A12\", \"A13\", \"B13\", \"C1210\"].includes(subCode)\n          //抢光\n          var robbed = [ \"A14\", \"A15\", \"B9\", \"B10\", \"B11\", \"B12\", \"B14\", \"B15\", \"C1206\", \"C1211\", \"1401\"].includes(subCode)\n          if (code == \"3\") {\n            (this as any).$reportClick('Babel_dev_adv_youhuiquan', (this as any).$get('item.srv.Babel_dev_adv_youhuiquan'), {\n              abtest: (this as any).stateHeaderIndex,\n              useFlag: '0'\n            })\n            (this as any).$jump.toLogin();\n            return;\n          }\n          if (code == \"601\") {\n            _toast.text(\"很抱歉，没抢到~~\", {\n              icon:\"https://img14.360buyimg.com/imagetools/jfs/t1/161944/30/3200/1865/6004f88bE9bd95e5b/83c78eecb1c62ad3.png\"\n            });\n            return\n          }\n          //领取成功\n          if (isSuccess) {\n            (this as any).state = 1;\n            _toast.text(\"抢券成功，快去购买吧~\", {\n              icon:\"https://img10.360buyimg.com/imagetools/jfs/t1/155257/3/15216/2252/6004f885E4e248abf/8162d39f1d82472e.png\"\n            });\n            return;\n          } else if (robbed) {\n            (this as any).state = 2;\n          }\n\n          _toast.text(subCodeMsg || \"活动太火爆，请稍后再试~\", {\n            icon:\"https://img14.360buyimg.com/imagetools/jfs/t1/161944/30/3200/1865/6004f88bE9bd95e5b/83c78eecb1c62ad3.png\"\n          });\n        })\n        .catch(e => {\n          // console.log(e);\n          _toast.text(\"网络链接失败，请稍后再试~\", {\n            icon:\"https://img14.360buyimg.com/imagetools/jfs/t1/161944/30/3200/1865/6004f88bE9bd95e5b/83c78eecb1c62ad3.png\"\n          });\n        });\n      } else if ((this as any).state == 1) {\n        // 去使用\n        if((this as any).timeout){\n          clearTimeout((this as any).timeout);\n          (this as any).timeout=null;\n        }\n        \n        const { couponKind, batchId, shopId, venderId } = (this as any).item.extension\n        if (couponKind == 1 || couponKind == 3) {\n          // 跳优惠券页面\n          (this as any).$jump.toUseCoupon(batchId)\n        } else if (couponKind == 2) {\n          // 跳店铺\n          (this as any).$jump.toShop(venderId+'')\n        } else if (couponKind == 0) {\n          // 去秒杀\n          (this as any).$jump.toSeckill()\n        }\n        return\n      }\n    },\n    // 获取金融券\n    getFinanceCoupon() {\n      if ((this as any).state == 0) {\n        const { key, roleId } = (this as any).item.extension;\n        (this as any).baseService.newBabelAwardCollection(key, roleId).then((response: any) => {\n          if (!response) { return }\n          const {\n            code,\n            subCode,\n            subCodeMsg\n          } = response;\n          if (code == \"3\") {\n              (this as any).$jump.toLogin();\n              return;\n          }\n          let success = code == 0 && (\n            subCode == \"0\" ||\n            subCode == \"0030\" || \n            subCode == \"20008\"\n          );\n          let robbed =\n              subCode == \"0020\" ||\n              subCode == \"0021\" ||\n              subCode == \"20011\" ||\n              subCode == \"20012\" ||\n              subCode == \"20033\";\n          if (success) {\n            (this as any).state = 1;\n            (this as any).timeout=setTimeout(()=>{\n              if ((this as any).item.extension && (this as any).item.extension.jumpLink) {\n                (this as any).$jump.toUrl((this as any).item.extension.jumpLink)\n              }\n            },2000);\n            (this as any).$toast(\"抢券成功，快去购买吧~\");\n            return;\n          }\n          if (robbed) {\n            (this as any).state = 2\n          }\n          (this as any).$toast(subCodeMsg || \"活动太火爆，请稍后再试~\");\n        }, () => {\n\n        }).catch(e => {\n          console.log(e);\n          (this as any).$toast(\"网络链接失败，请稍后再试~\");\n        });\n      } else if ((this as any).state == 1) {\n        if((this as any).timeout){\n          clearTimeout((this as any).timeout);\n          (this as any).timeout=null;\n        }\n        if ((this as any).item.extension && (this as any).item.extension.jumpLink) {\n          (this as any).$jump.toUrl((this as any).item.extension.jumpLink)\n        }\n      }\n    },\n    // 获取分享券\n    getShareCoupon() {\n      (this as any).$reportClick('Babel_dev_adv_21NHNV_ShareCoupon', (this as any).$get('item.srv.Babel_dev_adv_21NHNV_ShareCoupon'))\n      (this as any).$jump.toUrl((this as any).item.extension.sourceLink);\n    },\n    cleanZero (value: string) {\n      value = value\n      let res = /\\.0+$/.exec(value)\n      if (res) {\n        return value.slice(0, res.index)\n      }\n      return value\n    }\n  }\n});\n"],"sourceRoot":""}]}
{"remainingRequest":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/babel-loader/lib/index.js!/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/ts-loader/index.js??ref--13-2!/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ailu/Documents/program/nutui-lu/nutui-cat/src/packages/image/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/src/packages/image/index.vue","mtime":1630305928389},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvYWlsdS9Eb2N1bWVudHMvcHJvZ3JhbS9udXR1aS1sdS9udXR1aS1jYXQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnQC91dGlscy9jcmVhdGUnOwoKdmFyIF9jcmVhdGVDb21wb25lbnQgPSBjcmVhdGVDb21wb25lbnQoJ2ltYWdlJyksCiAgICBjb21wb25lbnROYW1lID0gX2NyZWF0ZUNvbXBvbmVudC5jb21wb25lbnROYW1lLAogICAgY3JlYXRlID0gX2NyZWF0ZUNvbXBvbmVudC5jcmVhdGU7CgpleHBvcnQgZGVmYXVsdCBjcmVhdGUoewogIHByb3BzOiB7CiAgICBzcmM6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIHdpZHRoOiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgaGVpZ2h0OiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgcmFkaXVzOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICBjdXQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBsYXp5OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHt9OwogIH0sCiAgY29tcG9uZW50czoge30sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9LAogIGNvbXB1dGVkOiB7CiAgICBjbGFzc2VzOiBmdW5jdGlvbiBjbGFzc2VzKCkgewogICAgICByZXR1cm4gX2RlZmluZVByb3BlcnR5KHt9LCBjb21wb25lbnROYW1lLCB0cnVlKTsKICAgIH0sCiAgICBjbGFzc2VzSW1nOiBmdW5jdGlvbiBjbGFzc2VzSW1nKCkgewogICAgICByZXR1cm4gX2RlZmluZVByb3BlcnR5KHt9LCBjb21wb25lbnROYW1lICsgJy1pbWcnLCB0cnVlKTsKICAgIH0sCiAgICBzdHlsZXM6IGZ1bmN0aW9uIHN0eWxlcygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB3aWR0aDogdGhpcy53aWR0aCArICdweCcsCiAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCArICdweCcsCiAgICAgICAgJ2JvcmRlci1yYWRpdXMnOiB0aGlzLnJhZGl1cyArICdweCcKICAgICAgfTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8v5Zu+54mH5YmN57yA5Z+f5ZCN5aSE55CGCiAgICBob3N0U3RhdHVzOiBmdW5jdGlvbiBob3N0U3RhdHVzKHN0YXR1cykgewogICAgICB2YXIgaG9zdCA9ICcnOwoKICAgICAgc3dpdGNoIChzdGF0dXMgKyAnJykgewogICAgICAgIGNhc2UgJzEnOgogICAgICAgICAgaG9zdCA9IHRoaXMubWFpblN0YXRpb25Ib3N0KCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnMic6CiAgICAgICAgICBob3N0ID0gJ20uMzYwYnV5aW1nLmNvbSc7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnMyc6CiAgICAgICAgICBob3N0ID0gJ2ltZzEwLmpkLmlkJzsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICc0JzoKICAgICAgICAgIGhvc3QgPSAnaW1nMTAuMzYwYnV5aW1nLmxvY2FsJzsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgaG9zdCA9IHRoaXMubWFpblN0YXRpb25Ib3N0KCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBob3N0OwogICAgfSwKICAgIC8v5Li756uZ5Z+f5ZCN5aSE55CGCiAgICBtYWluU3RhdGlvbkhvc3Q6IGZ1bmN0aW9uIG1haW5TdGF0aW9uSG9zdCgpIHsKICAgICAgdmFyIGltZ0FycmF5ID0gWzEwXTsgLy/ln5/lkI3mnInlpJrnp40KCiAgICAgIHJldHVybiAnaW1nJyArIGltZ0FycmF5W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGltZ0FycmF5Lmxlbmd0aCldICsgJy4zNjBidXlpbWcuY29tJzsKICAgIH0sCgogICAgLyoqCiAgICAgKgogICAgICoKICAgICAqIEBwYXJhbSB7Kn0gdXJsCiAgICAgKiBAcGFyYW0geyp9IHBhcmFtcwogICAgICogQHJldHVybnMKICAgICAqIEBtZW1iZXJvZiBJbWdTZXQKICAgICAqLwogICAgSW1nU2V0RnVuY3Rpb246IGZ1bmN0aW9uIEltZ1NldEZ1bmN0aW9uKHVybCkgewogICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKCiAgICAgIGlmICghdXJsKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KCiAgICAgIGlmICh1cmwuaW5kZXhPZignamZzJykgIT0gMCkgewogICAgICAgIGlmICh1cmwuaW5kZXhPZignamZzJykgPT0gLTEpIHsKICAgICAgICAgIC8vIOmTvuaOpeS4reayoeaciWpmc++8jOebtOaOpei/lOWbngogICAgICAgICAgcmV0dXJuIHVybDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKHVybC5pbmRleE9mKCdfamZzJykgIT0gLTEpIHsKICAgICAgICAgICAgLy8g6ZO+5o6l5bey57uP6KKr5Y6L57yp6L+H5LqGCiAgICAgICAgICAgIHJldHVybiB1cmw7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyDmnIlqZnPvvIzkvYbkuI3lnKjlvIDlpLTvvIzmi7zmjqXljovnvKkKICAgICAgICAgICAgaWYgKHBhcmFtcy53aWR0aCAmJiBwYXJhbXMuaGVpZ2h0KSB7CiAgICAgICAgICAgICAgdmFyIGZsYWcgPSB1cmwuaW5kZXhPZignamZzJyk7CiAgICAgICAgICAgICAgdmFyIGxlbiA9IHVybC5sZW5ndGg7CiAgICAgICAgICAgICAgcmV0dXJuIHVybC5zdWJzdHJpbmcoMCwgZmxhZykgKyAncycgKyBwYXJhbXMud2lkdGggKyAneCcgKyBwYXJhbXMuaGVpZ2h0ICsgJ18nICsgdXJsLnN1YnN0cmluZyhmbGFnLCBsZW4pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHJldHVybiB1cmw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gamZz5byA5aS055qE6ZO+5o6lCiAgICAgICAgdmFyIGlzRGVidWcgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCdkZWJ1ZycpID4gLTE7CiAgICAgICAgdmFyIElQID0gaXNEZWJ1ZyA/ICdodHRwOi8vJyA6ICdodHRwczovLyc7CiAgICAgICAgdmFyIGJ1c2luZXNzID0gJ24xMic7CiAgICAgICAgdmFyIHBvc3RmaXggPSBwYXJhbXMucG9zdGZpeCB8fCAnJzsKICAgICAgICB2YXIgd2lkdGggPSBwYXJhbXMud2lkdGg7CiAgICAgICAgdmFyIGhlaWdodCA9IHBhcmFtcy5oZWlnaHQ7CiAgICAgICAgdmFyIGltZ1VybCA9IElQICsgdGhpcy5ob3N0U3RhdHVzKHBhcmFtcy5ob3N0KSArICcvJyArIGJ1c2luZXNzOwoKICAgICAgICBpZiAod2lkdGggJiYgaGVpZ2h0KSB7CiAgICAgICAgICBpbWdVcmwgKz0gJy9zJyArIHdpZHRoICsgJ3gnICsgaGVpZ2h0ICsgJ18nICsgdXJsOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpbWdVcmwgKz0gJy8nICsgdXJsOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGltZ1VybCArIHBvc3RmaXg7CiAgICAgIH0KICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ailu/Documents/program/nutui-lu/nutui-cat/src/packages/image/index.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { createComponent } from '@/utils/create';\nconst { componentName, create } = createComponent('image');\ninterface imgParams {\n  width?: number;\n  height?: number;\n  postfix?: string | undefined;\n  host?: string | undefined;\n}\n\nexport default create({\n  props: {\n    src: {\n      type: String,\n      default: ''\n    },\n    width: {\n      type: [String, Number],\n      default: ''\n    },\n    height: {\n      type: [String, Number],\n      default: ''\n    },\n    radius: {\n      type: String,\n      default: ''\n    },\n    cut: {\n      type: Boolean,\n      default: false\n    },\n    lazy: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {};\n  },\n  components: {},\n  mounted() {},\n  computed: {\n    classes() {\n      return {\n        [componentName]: true\n      };\n    },\n    classesImg() {\n      return {\n        [componentName + '-img']: true\n      };\n    },\n    styles() {\n      return {\n        width: (this as any).width + 'px',\n        height: (this as any).height + 'px',\n        'border-radius': (this as any).radius + 'px'\n      };\n    }\n  },\n  methods: {\n    //图片前缀域名处理\n    hostStatus(status?: string) {\n      let host = '';\n      switch (status + '') {\n        case '1':\n          host = this.mainStationHost();\n          break;\n        case '2':\n          host = 'm.360buyimg.com';\n          break;\n        case '3':\n          host = 'img10.jd.id';\n          break;\n        case '4':\n          host = 'img10.360buyimg.local';\n          break;\n        default:\n          host = this.mainStationHost();\n      }\n      return host;\n    },\n    //主站域名处理\n    mainStationHost() {\n      const imgArray = [10]; //域名有多种\n      return (\n        'img' +\n        imgArray[Math.floor(Math.random() * imgArray.length)] +\n        '.360buyimg.com'\n      );\n    },\n    /**\n     *\n     *\n     * @param {*} url\n     * @param {*} params\n     * @returns\n     * @memberof ImgSet\n     */\n    ImgSetFunction(url: string, params: imgParams = {}) {\n      if (!url) {\n        return null;\n      }\n      if (url.indexOf('jfs') != 0) {\n        if (url.indexOf('jfs') == -1) {\n          // 链接中没有jfs，直接返回\n          return url;\n        } else {\n          if (url.indexOf('_jfs') != -1) {\n            // 链接已经被压缩过了\n            return url;\n          } else {\n            // 有jfs，但不在开头，拼接压缩\n            if (params.width && params.height) {\n              const flag = url.indexOf('jfs');\n              const len = url.length;\n              return (\n                url.substring(0, flag) +\n                's' +\n                params.width +\n                'x' +\n                params.height +\n                '_' +\n                url.substring(flag, len)\n              );\n            } else {\n              return url;\n            }\n          }\n        }\n      } else {\n        // jfs开头的链接\n        const isDebug = window.location.href.indexOf('debug') > -1;\n        const IP = isDebug ? 'http://' : 'https://';\n\n        const business = 'n12';\n        const postfix = params.postfix || '';\n        const width = params.width;\n        const height = params.height;\n        let imgUrl = IP + this.hostStatus(params.host) + '/' + business;\n        if (width && height) {\n          imgUrl += '/s' + width + 'x' + height + '_' + url;\n        } else {\n          imgUrl += '/' + url;\n        }\n        return imgUrl + postfix;\n      }\n    }\n  }\n});\n"],"sourceRoot":""}]}
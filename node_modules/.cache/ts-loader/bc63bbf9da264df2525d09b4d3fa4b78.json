{"remainingRequest":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/babel-loader/lib/index.js!/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/ts-loader/index.js??ref--13-2!/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ailu/Documents/program/nutui-lu/nutui-cat/src/packages/barrage/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/src/packages/barrage/index.vue","mtime":1626664470643},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvYWlsdS9Eb2N1bWVudHMvcHJvZ3JhbS9udXR1aS1sdS9udXR1aS1jYXQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvYWlsdS9Eb2N1bWVudHMvcHJvZ3JhbS9udXR1aS1sdS9udXR1aS1jYXQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJ0AvdXRpbHMvY3JlYXRlJzsKCnZhciBfY3JlYXRlQ29tcG9uZW50ID0gY3JlYXRlQ29tcG9uZW50KCdiYXJyYWdlJyksCiAgICBjb21wb25lbnROYW1lID0gX2NyZWF0ZUNvbXBvbmVudC5jb21wb25lbnROYW1lLAogICAgY3JlYXRlID0gX2NyZWF0ZUNvbXBvbmVudC5jcmVhdGU7CgpleHBvcnQgZGVmYXVsdCBjcmVhdGUoewogIHByb3BzOiB7CiAgICBsaXN0OiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBbXQogICAgfSwKICAgIHNwZWVkOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogNzAKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBsaXN0OiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdGhpcy5kbUxpc3QgPSBfdG9Db25zdW1hYmxlQXJyYXkodmFsKTsKICAgICAgICB0aGlzLnN0YXJ0KCk7CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkbUxpc3Q6IFtdLAogICAgICBpbmRleDogMQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHt9LAogIGNvbXB1dGVkOiB7CiAgICBjbGFzc2VzOiBmdW5jdGlvbiBjbGFzc2VzKCkgewogICAgICByZXR1cm4gX2RlZmluZVByb3BlcnR5KHt9LCBjb21wb25lbnROYW1lICsgJy1wYWdlJywgdHJ1ZSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgLy8g5by55bmV5ZCv5YqoCiAgICB0aGlzLnN0YXJ0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdGFydDogZnVuY3Rpb24gc3RhcnQoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdGhhdC5kbUxpc3QgPSB0aGF0Lmxpc3Q7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciByZXMgPSB0aGF0LiRyZWZzLm1hcnF1ZWU7CiAgICAgICAgcmVzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICB0aGF0LmJlZ2luTWFycXVlZShlbCwgdGhhdC5zcGVlZCk7CiAgICAgICAgfSk7CiAgICAgIH0sIDEwMCk7CiAgICB9LAogICAgYmVnaW5NYXJxdWVlOiBmdW5jdGlvbiBiZWdpbk1hcnF1ZWUoZWwsIHNwZWVkKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKCiAgICAgIHZhciBleGVjID0gZnVuY3Rpb24gZXhlYygpIHsKICAgICAgICAvLyDmu5rliqjpgJ/njocgKHB4L3MpCiAgICAgICAgZWwuc3R5bGUudHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uID0gJ2xpbmVhcic7CiAgICAgICAgZWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gIiIuY29uY2F0KGVsLnNjcm9sbFdpZHRoIC8gc3BlZWQsICJzIik7CiAgICAgICAgZWwuc3R5bGUudHJhbnNmb3JtID0gZWwuc2Nyb2xsV2lkdGggPyAidHJhbnNsYXRlWCgtIi5jb25jYXQoZWwuc2Nyb2xsV2lkdGgsICJweCkiKSA6ICcnOwogICAgICB9OwoKICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICBlbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSAiMHMiOwogICAgICAgIGVsLnN0eWxlLnRyYW5zZm9ybSA9ICJ0cmFuc2xhdGVYKDBweCkiOwogICAgICAgIGV4ZWMoKTsKICAgICAgfSk7CiAgICAgIGV4ZWMoKTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ailu/Documents/program/nutui-lu/nutui-cat/src/packages/barrage/index.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;AAsBA,SAAS,eAAT,QAAgC,gBAAhC;;AACA,uBAAkC,eAAe,CAAC,SAAD,CAAjD;AAAA,IAAQ,aAAR,oBAAQ,aAAR;AAAA,IAAuB,MAAvB,oBAAuB,MAAvB;;AAEA,eAAe,MAAM,CAAC;AACpB,EAAA,KAAK,EAAE;AACL,IAAA,IAAI,EAAE;AACJ,MAAA,IAAI,EAAE,KADF;AAEJ,MAAA,OAAO,EAAE;AAFL,KADD;AAKL,IAAA,KAAK,EAAE;AACL,MAAA,IAAI,EAAE,MADD;AAEL,MAAA,OAAO,EAAE;AAFJ;AALF,GADa;AAWpB,EAAA,KAAK,EAAE;AACL,IAAA,IAAI,EAAE;AACJ,MAAA,OADI,mBACI,GADJ,EACO;AACR,aAAa,MAAb,sBAA0B,GAA1B;AACA,aAAa,KAAb;AACF,OAJG;AAKJ,MAAA,IAAI,EAAE;AALF;AADD,GAXa;AAoBpB,EAAA,IApBoB,kBAoBhB;AACF,WAAO;AACL,MAAA,MAAM,EAAE,EADH;AAEL,MAAA,KAAK,EAAE;AAFF,KAAP;AAID,GAzBmB;AA0BpB,EAAA,UAAU,EAAE,EA1BQ;AA2BpB,EAAA,QAAQ,EAAE;AACR,IAAA,OADQ,qBACD;AACL,iCACG,aAAa,GAAG,OADnB,EAC6B,IAD7B;AAGD;AALO,GA3BU;AAkCpB,EAAA,OAlCoB,qBAkCb;AACL;AACA,SAAK,KAAL;AACD,GArCmB;AAsCpB,EAAA,OAAO,EAAE;AACP,IAAA,KADO,mBACF;AACH,UAAM,IAAI,GAAQ,IAAlB;AACA,MAAA,IAAI,CAAC,MAAL,GAAc,IAAI,CAAC,IAAnB;AACA,MAAA,UAAU,CAAC,YAAK;AACd,YAAM,GAAG,GAAG,IAAI,CAAC,KAAL,CAAW,OAAvB;AACA,QAAA,GAAG,CAAC,OAAJ,CAAY,UAAA,EAAE,EAAG;AACf,UAAA,IAAI,CAAC,YAAL,CAAkB,EAAlB,EAAsB,IAAI,CAAC,KAA3B;AACD,SAFD;AAGD,OALS,EAKP,GALO,CAAV;AAMD,KAVM;AAWP,IAAA,YAXO,wBAWM,EAXN,EAWuB,KAXvB,EAWoC;AACzC,UAAM,IAAI,GAAQ,IAAlB;;AACA,UAAM,IAAI,GAAG,SAAP,IAAO,GAAK;AAChB;AACA,QAAA,EAAE,CAAC,KAAH,CAAS,wBAAT,GAAoC,QAApC;AACA,QAAA,EAAE,CAAC,KAAH,CAAS,kBAAT,aAAiC,EAAE,CAAC,WAAH,GAAiB,KAAlD;AACA,QAAA,EAAE,CAAC,KAAH,CAAS,SAAT,GAAqB,EAAE,CAAC,WAAH,yBACF,EAAE,CAAC,WADD,WAEjB,EAFJ;AAGD,OAPD;;AAQA,MAAA,EAAE,CAAC,gBAAH,CAAoB,eAApB,EAAqC,YAAK;AACxC,QAAA,EAAE,CAAC,KAAH,CAAS,kBAAT;AACA,QAAA,EAAE,CAAC,KAAH,CAAS,SAAT;AACA,QAAA,IAAI;AACL,OAJD;AAKA,MAAA,IAAI;AACL;AA3BM;AAtCW,CAAD,CAArB","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { createComponent } from '@/utils/create';\nconst { componentName, create } = createComponent('barrage');\n\nexport default create({\n  props: {\n    list: {\n      type: Array,\n      default: []\n    },\n    speed: {\n      type: Number,\n      default: 70\n    }\n  },\n  watch: {\n    list: {\n      handler(val) {\n        (this as any).dmList = [...val];\n        (this as any).start();\n      },\n      deep: true\n    }\n  },\n  data() {\n    return {\n      dmList: [],\n      index: 1\n    };\n  },\n  components: {},\n  computed: {\n    classes() {\n      return {\n        [componentName + '-page']: true\n      };\n    }\n  },\n  mounted() {\n    // 弹幕启动\n    this.start();\n  },\n  methods: {\n    start() {\n      const that: any = this;\n      that.dmList = that.list;\n      setTimeout(() => {\n        const res = that.$refs.marquee as HTMLElement[];\n        res.forEach(el => {\n          that.beginMarquee(el, that.speed);\n        });\n      }, 100);\n    },\n    beginMarquee(el: HTMLElement, speed: number) {\n      const that: any = this;\n      const exec = () => {\n        // 滚动速率 (px/s)\n        el.style.transitionTimingFunction = 'linear';\n        el.style.transitionDuration = `${el.scrollWidth / speed}s`;\n        el.style.transform = el.scrollWidth\n          ? `translateX(-${el.scrollWidth}px)`\n          : '';\n      };\n      el.addEventListener('transitionend', () => {\n        el.style.transitionDuration = `0s`;\n        el.style.transform = `translateX(0px)`;\n        exec();\n      });\n      exec();\n    }\n  }\n});\n"],"sourceRoot":""}]}
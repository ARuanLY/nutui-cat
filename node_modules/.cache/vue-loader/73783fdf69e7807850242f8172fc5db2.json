{"remainingRequest":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ailu/Documents/program/nutui-lu/nutui-cat/src/packages/jtcoupon/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/src/packages/jtcoupon/index.vue","mtime":1631169083452},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnQC91dGlscy9jcmVhdGUnOwppbXBvcnQgeyBUb2FzdCB9IGZyb20gJ0BudXR1aS9udXR1aSc7CmNvbnN0IHsgY29tcG9uZW50TmFtZSwgY3JlYXRlIH0gPSBjcmVhdGVDb21wb25lbnQoJ2p0Q291cG9uJyk7CmNvbnN0IF90b2FzdDogYW55ID0gVG9hc3Q7CmV4cG9ydCBkZWZhdWx0IGNyZWF0ZSh7CiAgcHJvcHM6IHsKICAgIGl0ZW06IHsKICAgICAgdHlwZTogW0FycmF5LCBPYmplY3RdLAogICAgICBkZWZhdWx0OiBbXQogICAgfSwKICAgIGltYWdlOiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIEJvb2xlYW5dLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIHRhZzogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgdHlwZTogewogICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgICBkZWZhdWx0OiAnJwogICAgfQogIH0sCiAgZGF0YSgpIHsKCQlyZXR1cm4gewogICAgICBzdGF0ZTogJycKICAgIH07Cgl9LAogIGNvbXBvbmVudHM6IHt9LAogIG1vdW50ZWQoKSB7CiAgfSwKICBjb21wdXRlZDogewogICAgY2xhc3NlcygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBbY29tcG9uZW50TmFtZV06IHRydWUsCiAgICAgICAgW2Ake2NvbXBvbmVudE5hbWV9LSR7KHRoaXMgYXMgYW55KS50eXBlfWBdOiAodGhpcyBhcyBhbnkpLnR5cGUsCiAgICAgICAgWyh0aGlzIGFzIGFueSkuaW1hZ2UgPyBgJHtjb21wb25lbnROYW1lfS1pbWFnZWAgOiAnJ106IHRydWUsCiAgICAgICAgW2Ake2NvbXBvbmVudE5hbWV9LSR7KFsnZ2V0JywndXNlJywnYmFuJ10gYXMgYW55KVsodGhpcyBhcyBhbnkpLnN0YXRlXX1gXTogKHRoaXMgYXMgYW55KS5zdGF0ZQogICAgICB9OwogICAgfSwKICAgIGNsYXNzZXNDb250KCkgewogICAgICByZXR1cm4gewogICAgICAgIFtgJHtjb21wb25lbnROYW1lfS1jb250YF06IHRydWUKICAgICAgfTsKICAgIH0sCiAgICBjbGFzc2VzSW5mbygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBbYCR7Y29tcG9uZW50TmFtZX0taW5mb2BdOiB0cnVlCiAgICAgIH07CiAgICB9LAogICAgc3R5bGVzKCkgewogICAgICByZXR1cm4gewogICAgICAgIC8vICdib3JkZXItcmFkaXVzJzogKCh0aGlzIGFzIGFueSkgYXMgYW55KS5yYWRpdXMgKyAncHgnCiAgICAgIH07CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgLy8g5aSE55CG5Yi455qE5a2X5q615pWw5o2uCiAgICBzd2l0Y2ggKHRoaXMudHlwZSkgewogICAgICBjYXNlICdub3JtYWwnOiB0aGlzLnNldE5vcm1hbENvdXBvbigpOyBicmVhazsKICAgICAgY2FzZSAnZmluYW5jZSc6IHRoaXMuZ2V0RmluYW5jZUNvdXBvbigpOyBicmVhazsKICAgICAgY2FzZSAnc2hhcmUnOiB0aGlzLnNldFNoYXJlQ291cG9uKCk7IGJyZWFrOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8g5pmu6YCa5ZWG5Z+O5Yi4CiAgICBzZXROb3JtYWxDb3Vwb24oKSB7CiAgICAgIGxldCBjcG5SZXN1bHRDb2RlLHNvbGRPdXQ7CiAgICAgIC8vIOWkhOeQhui3qOWTgeexu+aLieaWsOWIuOeahOWtl+autei/h+a7pAogICAgICBsZXQgZXh0ID0gKHRoaXMgYXMgYW55KS5pdGVtLmV4dGVuc2lvbgogICAgICBsZXQgeyBjb3Vwb25TdHlsZSwgY291cG9uVHlwZSwgc3ViU2t1IH0gPSBleHQKICAgICAgZXh0LnVfaW1nID0gKHN1YlNrdSAmJiBzdWJTa3VbMF0pIAogICAgICAgID8gc3ViU2t1WzBdLmltZyAKICAgICAgICA6ICh0aGlzIGFzIGFueSkuaXRlbS5waWN0dXJlVXJsCiAgICAgICAgICA/ICh0aGlzIGFzIGFueSkuaXRlbS5waWN0dXJlVXJsCiAgICAgICAgICA6ICcnCiAgICAgIGV4dC51X3RpdCA9ICh0aGlzIGFzIGFueSkuY2xlYW5aZXJvKGV4dC5kaXNDb3VudCkKICAgICAgZXh0LnVfbGluZTEgPSAodGhpcyBhcyBhbnkpLmNsZWFuWmVybyhleHQucXVvdGEpCiAgICAgIGV4dC51X2xpbmUyID0gKHRoaXMgYXMgYW55KS5pdGVtLmRlc2MgPyAodGhpcyBhcyBhbnkpLml0ZW0uZGVzYyA6IGV4dC5saW1pdFN0cgogICAgICAvLyDmiZPmoIcKICAgICAgaWYoKHRoaXMgYXMgYW55KS5pdGVtLmNvbW1lbnRzWzBdID09ICck5o+Q5oql5aSH5rOoJykgewogICAgICAgIGV4dC51X2xhYmVsID0gJycKICAgICAgfSBlbHNlIHsKICAgICAgICBpZihleHQuY291cG9uS2luZCA9PSAnMCcpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCflhajlk4HnsbsnLCAodGhpcyBhcyBhbnkpLml0ZW0pCiAgICAgICAgICBleHQudV9sYWJlbCA9ICcvL2ltZzE0LjM2MGJ1eWltZy5jb20vaW1hZ2V0b29scy9qZnMvdDEvMTk1MzE4LzI4LzI2MjMvMzQ0OC82MDliNDVhZkU2NDE3MzNhNi8xZTdmMzQzYzVlZjA2YWM3LnBuZycKICAgICAgICB9IGVsc2UgaWYoZXh0LnVzZXJMYWJlbCA9PSAnMTAwLTEnIHx8IGV4dC51c2VyTGFiZWwgPT0gJzEwMC0yJykgewogICAgICAgICAgY29uc29sZS5sb2coJ3BsdXMnLCAodGhpcyBhcyBhbnkpLml0ZW0pCiAgICAgICAgICBleHQudV9sYWJlbCA9ICcvL2ltZzEyLjM2MGJ1eWltZy5jb20vaW1hZ2V0b29scy9qZnMvdDEvMTg4OTU2LzMxLzI3NTAvMjU4Ny82MDliNDY4YkUyM2ViZjRjNy9iOGNkNTA0NTIyMWI2YTliLnBuZycKICAgICAgICB9CiAgICAgIH0KICAgICAgCiAgICAgIC8vIOmHkemineOAgemXqOanm+iuvue9rgogICAgICAvLyDkuqzotLQKICAgICAgaWYgKGNvdXBvblN0eWxlID09IDI4KSB7CiAgICAgICAgZXh0LnVfbGluZTEgPSBg5q+P5ruhJHsodGhpcyBhcyBhbnkpLmNsZWFuWmVybyhleHQucXVvdGEpfeWHjyR7KHRoaXMgYXMgYW55KS5jbGVhblplcm8oZXh0LmRpc0NvdW50KX1gCiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5oqY5omj5Yi4CiAgICAgICAgaWYgKGNvdXBvblN0eWxlID09IDMpIHsKICAgICAgICAgIGlmICgrZXh0LnF1b3RhKSB7CiAgICAgICAgICAgIGV4dC51X3RpdCA9IGAke01hdGgucm91bmQoKDEgLSBleHQuZGlzQ291bnQvZXh0LnF1b3RhKSAqIDEwMCkgLyAxMH3miphgCiAgICAgICAgICB9CiAgICAgICAgICBleHQudV9saW5lMSA9ICtleHQucXVvdGEgJiYgK2NvdXBvblR5cGUgIT09IDAgPyBg5ruhJHsodGhpcyBhcyBhbnkpLmNsZWFuWmVybyhleHQucXVvdGEpfeWFg+WPr+eUqGAgOiAn5peg6Zeo5qebJwogICAgICAgIH0KICAgICAgICAvLyDmu6Hlh4/jgIHnq4vlh4/liLgKICAgICAgICBlbHNlIGlmIChjb3Vwb25UeXBlID09IDAgfHwgY291cG9uVHlwZSA9PSAxKSB7CiAgICAgICAgICBleHQudV9saW5lMSA9ICtleHQucXVvdGEgPyBg5ruhJHsodGhpcyBhcyBhbnkpLmNsZWFuWmVybyhleHQucXVvdGEpfeWFg+WPr+eUqGAgOiAn5peg6Zeo5qebJwogICAgICAgIH0KICAgICAgICAvLyDnianmtYHliLgKICAgICAgICBpZiAoY291cG9uVHlwZSA9PSAxMCAmJiBjb3Vwb25TdHlsZSA9PSAxMCkgewogICAgICAgICAgZXh0LnVfbGluZTEgPSArZXh0LnF1b3RhID8gYOa7oSR7KHRoaXMgYXMgYW55KS5jbGVhblplcm8oZXh0LnF1b3RhKX3lhYPlj6/nlKhgIDogJ+aXoOmXqOanmycKICAgICAgICB9CiAgICAgICAgKHRoaXMgYXMgYW55KS4kc2V0KCh0aGlzIGFzIGFueSkuaXRlbSwgJ2V4dGVuc2lvbicsIGV4dCk7CiAgICAgIH0KICAgICAgY3BuUmVzdWx0Q29kZT0gKHRoaXMgYXMgYW55KS5pdGVtLmV4dGVuc2lvbi5jcG5SZXN1bHRDb2RlOwogICAgICBzb2xkT3V0PSAodGhpcyBhcyBhbnkpLml0ZW0uZXh0ZW5zaW9uLnNvbGRPdXQ7CiAgICAgIC8vIOiuvue9ruWIuOeKtuaAgQogICAgICBpZiAoY3BuUmVzdWx0Q29kZSA9PSAxNCB8fCBjcG5SZXN1bHRDb2RlID09IDE1KSB7CiAgICAgICAgKHRoaXMgYXMgYW55KS5zdGF0ZSA9IDE7IC8vIOmihui/hwogICAgICB9IGVsc2UgaWYgKGNwblJlc3VsdENvZGUgPT0gMTYgfHwgY3BuUmVzdWx0Q29kZSA9PSAxNyB8fCBzb2xkT3V0ID09IDEpIHsKICAgICAgICAodGhpcyBhcyBhbnkpLnN0YXRlID0gMjsgLy8g5bey5oqi5YWJCiAgICAgIH0gZWxzZSB7CiAgICAgICAgKHRoaXMgYXMgYW55KS5zdGF0ZSA9IDA7IC8vIOacqumihuWPlgogICAgICB9CiAgICB9LAogICAgaGFuZGxlQ2xpY2soKSB7CiAgICAgIHN3aXRjaCAoKHRoaXMgYXMgYW55KS50eXBlKSB7CiAgICAgICAgY2FzZSAnbm9ybWFsJzogKHRoaXMgYXMgYW55KS5nZXRDb21tb25Db3VucG9uKCk7IGJyZWFrOwogICAgICAgIGNhc2UgJ2ZpbmFuY2UnOiAodGhpcyBhcyBhbnkpLmdldEZpbmFuY2VDb3Vwb24oKTsgYnJlYWs7CiAgICAgIH0KICAgIH0sCiAgICAvLyDojrflj5bmma7pgJrllYbln47liLgKICAgIGdldENvbW1vbkNvdW5wb24oKSB7CiAgICAgIGlmICgodGhpcyBhcyBhbnkpLnN0YXRlID09IDApIHsKICAgICAgICAvLyDljrvpooblj5YKICAgICAgICBsZXQga2V5LHJvbGVJZDsKICAgICAgICBrZXkgPSAodGhpcyBhcyBhbnkpLml0ZW0uZXh0ZW5zaW9uLmtleTsKICAgICAgICByb2xlSWQgPSAodGhpcyBhcyBhbnkpLml0ZW0uZXh0ZW5zaW9uLnJvbGVJZDsKICAgICAgICBjb25zb2xlLmxvZygnMTEnKTsKICAgICAgICAodGhpcyBhcyBhbnkpLiRlbWl0KCdjbGljay1yZXBvcnQnLCAodGhpcyBhcyBhbnkpLnN0YXRlKTsKICAgICAgfSBlbHNlIGlmICgodGhpcyBhcyBhbnkpLnN0YXRlID09IDEpIHsKICAgICAgICAvLyDljrvkvb/nlKgKICAgICAgICBpZigodGhpcyBhcyBhbnkpLnRpbWVvdXQpewogICAgICAgICAgY2xlYXJUaW1lb3V0KCh0aGlzIGFzIGFueSkudGltZW91dCk7CiAgICAgICAgICAodGhpcyBhcyBhbnkpLnRpbWVvdXQ9bnVsbDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgY29uc3QgeyBjb3Vwb25LaW5kLCBiYXRjaElkLCBzaG9wSWQsIHZlbmRlcklkIH0gPSAodGhpcyBhcyBhbnkpLml0ZW0uZXh0ZW5zaW9uCiAgICAgICAgaWYgKGNvdXBvbktpbmQgPT0gMSB8fCBjb3Vwb25LaW5kID09IDMpIHsKICAgICAgICAgIC8vIOi3s+S8mOaDoOWIuOmhtemdogogICAgICAgICAgKHRoaXMgYXMgYW55KS4kanVtcC50b1VzZUNvdXBvbihiYXRjaElkKQogICAgICAgIH0gZWxzZSBpZiAoY291cG9uS2luZCA9PSAyKSB7CiAgICAgICAgICAvLyDot7Plupfpk7oKICAgICAgICAgICh0aGlzIGFzIGFueSkuJGp1bXAudG9TaG9wKHZlbmRlcklkKycnKQogICAgICAgIH0gZWxzZSBpZiAoY291cG9uS2luZCA9PSAwKSB7CiAgICAgICAgICAvLyDljrvnp5LmnYAKICAgICAgICAgICh0aGlzIGFzIGFueSkuJGp1bXAudG9TZWNraWxsKCkKICAgICAgICB9CiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgIH0sCiAgICBjbGVhblplcm8gKHZhbHVlOiBzdHJpbmcpIHsKICAgICAgdmFsdWUgPSB2YWx1ZQogICAgICBsZXQgcmVzID0gL1wuMCskLy5leGVjKHZhbHVlKQogICAgICBpZiAocmVzKSB7CiAgICAgICAgcmV0dXJuIHZhbHVlLnNsaWNlKDAsIHJlcy5pbmRleCkKICAgICAgfQogICAgICByZXR1cm4gdmFsdWUKICAgIH0KICB9Cn0pOwo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/packages/jtcoupon","sourcesContent":["<template>\n  <div :class=\"classes\" :style=\"styles\" @click=\"handleClick()\">\n    <div :class=\"classesCont\">\n      <div :class=\"classesInfo\">\n        <nutcat-text class=\"sub-quota\" row=\"1\">{{item.extension.u_line1}}</nutcat-text>\n        <nutcat-text class=\"sub-limitStr\" row=\"1\">{{item.extension.u_line2}}</nutcat-text>\n      </div>\n      <div class=\"sub-btn\">\n        <div v-if=\"state == 0\">立即领取</div>\n        <div v-else-if=\"state == 1\">去使用<i class=\"icon-arrow\"></i></div>\n        <div v-else-if=\"state == 2\">已抢光</div>\n      </div>\n    </div>\n    <slot></slot>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { createComponent } from '@/utils/create';\nimport { Toast } from '@nutui/nutui';\nconst { componentName, create } = createComponent('jtCoupon');\nconst _toast: any = Toast;\nexport default create({\n  props: {\n    item: {\n      type: [Array, Object],\n      default: []\n    },\n    image: {\n      type: [String, Boolean],\n      default: ''\n    },\n    tag: {\n      type: String,\n      default: ''\n    },\n    type: {\n      type: [String, Number],\n      default: ''\n    }\n  },\n  data() {\n\t\treturn {\n      state: ''\n    };\n\t},\n  components: {},\n  mounted() {\n  },\n  computed: {\n    classes() {\n      return {\n        [componentName]: true,\n        [`${componentName}-${(this as any).type}`]: (this as any).type,\n        [(this as any).image ? `${componentName}-image` : '']: true,\n        [`${componentName}-${(['get','use','ban'] as any)[(this as any).state]}`]: (this as any).state\n      };\n    },\n    classesCont() {\n      return {\n        [`${componentName}-cont`]: true\n      };\n    },\n    classesInfo() {\n      return {\n        [`${componentName}-info`]: true\n      };\n    },\n    styles() {\n      return {\n        // 'border-radius': ((this as any) as any).radius + 'px'\n      };\n    }\n  },\n  created() {\n    // 处理券的字段数据\n    switch (this.type) {\n      case 'normal': this.setNormalCoupon(); break;\n      case 'finance': this.getFinanceCoupon(); break;\n      case 'share': this.setShareCoupon(); break;\n    }\n  },\n  methods: {\n    // 普通商城券\n    setNormalCoupon() {\n      let cpnResultCode,soldOut;\n      // 处理跨品类拉新券的字段过滤\n      let ext = (this as any).item.extension\n      let { couponStyle, couponType, subSku } = ext\n      ext.u_img = (subSku && subSku[0]) \n        ? subSku[0].img \n        : (this as any).item.pictureUrl\n          ? (this as any).item.pictureUrl\n          : ''\n      ext.u_tit = (this as any).cleanZero(ext.disCount)\n      ext.u_line1 = (this as any).cleanZero(ext.quota)\n      ext.u_line2 = (this as any).item.desc ? (this as any).item.desc : ext.limitStr\n      // 打标\n      if((this as any).item.comments[0] == '$提报备注') {\n        ext.u_label = ''\n      } else {\n        if(ext.couponKind == '0') {\n          console.log('全品类', (this as any).item)\n          ext.u_label = '//img14.360buyimg.com/imagetools/jfs/t1/195318/28/2623/3448/609b45afE641733a6/1e7f343c5ef06ac7.png'\n        } else if(ext.userLabel == '100-1' || ext.userLabel == '100-2') {\n          console.log('plus', (this as any).item)\n          ext.u_label = '//img12.360buyimg.com/imagetools/jfs/t1/188956/31/2750/2587/609b468bE23ebf4c7/b8cd5045221b6a9b.png'\n        }\n      }\n      \n      // 金额、门槛设置\n      // 京贴\n      if (couponStyle == 28) {\n        ext.u_line1 = `每满${(this as any).cleanZero(ext.quota)}减${(this as any).cleanZero(ext.disCount)}`\n      } else {\n        // 折扣券\n        if (couponStyle == 3) {\n          if (+ext.quota) {\n            ext.u_tit = `${Math.round((1 - ext.disCount/ext.quota) * 100) / 10}折`\n          }\n          ext.u_line1 = +ext.quota && +couponType !== 0 ? `满${(this as any).cleanZero(ext.quota)}元可用` : '无门槛'\n        }\n        // 满减、立减券\n        else if (couponType == 0 || couponType == 1) {\n          ext.u_line1 = +ext.quota ? `满${(this as any).cleanZero(ext.quota)}元可用` : '无门槛'\n        }\n        // 物流券\n        if (couponType == 10 && couponStyle == 10) {\n          ext.u_line1 = +ext.quota ? `满${(this as any).cleanZero(ext.quota)}元可用` : '无门槛'\n        }\n        (this as any).$set((this as any).item, 'extension', ext);\n      }\n      cpnResultCode= (this as any).item.extension.cpnResultCode;\n      soldOut= (this as any).item.extension.soldOut;\n      // 设置券状态\n      if (cpnResultCode == 14 || cpnResultCode == 15) {\n        (this as any).state = 1; // 领过\n      } else if (cpnResultCode == 16 || cpnResultCode == 17 || soldOut == 1) {\n        (this as any).state = 2; // 已抢光\n      } else {\n        (this as any).state = 0; // 未领取\n      }\n    },\n    handleClick() {\n      switch ((this as any).type) {\n        case 'normal': (this as any).getCommonCounpon(); break;\n        case 'finance': (this as any).getFinanceCoupon(); break;\n      }\n    },\n    // 获取普通商城券\n    getCommonCounpon() {\n      if ((this as any).state == 0) {\n        // 去领取\n        let key,roleId;\n        key = (this as any).item.extension.key;\n        roleId = (this as any).item.extension.roleId;\n        console.log('11');\n        (this as any).$emit('click-report', (this as any).state);\n      } else if ((this as any).state == 1) {\n        // 去使用\n        if((this as any).timeout){\n          clearTimeout((this as any).timeout);\n          (this as any).timeout=null;\n        }\n        \n        const { couponKind, batchId, shopId, venderId } = (this as any).item.extension\n        if (couponKind == 1 || couponKind == 3) {\n          // 跳优惠券页面\n          (this as any).$jump.toUseCoupon(batchId)\n        } else if (couponKind == 2) {\n          // 跳店铺\n          (this as any).$jump.toShop(venderId+'')\n        } else if (couponKind == 0) {\n          // 去秒杀\n          (this as any).$jump.toSeckill()\n        }\n        return\n      }\n    },\n    cleanZero (value: string) {\n      value = value\n      let res = /\\.0+$/.exec(value)\n      if (res) {\n        return value.slice(0, res.index)\n      }\n      return value\n    }\n  }\n});\n</script>\n\n<style lang=\"scss\">\n@import 'index.scss';\n</style>\n"]}]}
{"remainingRequest":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ailu/Documents/program/nutui-lu/nutui-cat/src/packages/noticebar/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/src/packages/noticebar/index.vue","mtime":1630929352001},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJ0AvdXRpbHMvY3JlYXRlJzsKLy8gaW1wb3J0IFNjcm9sbEl0ZW0gZnJvbSAnLi9pdGVtJwpjb25zdCB7IGNvbXBvbmVudE5hbWUsIGNyZWF0ZSB9ID0gY3JlYXRlQ29tcG9uZW50KCdub3RpY2ViYXInKTsKCmV4cG9ydCBkZWZhdWx0IGNyZWF0ZSh7CiAgcHJvcHM6IHsKICAgIC8vIOa7muWKqOaWueWQkSAgYWNyb3NzIOaoquWQkSB2ZXJ0aWNhbCDnurXlkJEKICAgIGRpcmVjdGlvbjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdhY3Jvc3MnCiAgICB9LAogICAgbGlzdDogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogKCkgPT4gewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIHN0YW5kVGltZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEwMDAKICAgIH0sCiAgICBjb21wbGV4QW06IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBoZWlnaHQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiA0MAogICAgfSwKICAgIHRleHQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIGNsb3NlTW9kZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHdyYXBhYmxlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgbGVmdEljb246IHsgCiAgICAgIHR5cGU6IFN0cmluZywgCiAgICAgIGRlZmF1bHQ6ICcnIAogICAgfSwKICAgIGNvbG9yOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJyNGOTkxMUInCiAgICB9LAogICAgYmFja2dyb3VuZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdyZ2JhKDI1NCwyNTAsMjE2LDEpJwogICAgfSwKICAgIGRlbGF5OiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sCiAgICAgIGRlZmF1bHQ6IDEKICAgIH0sCiAgICBzY3JvbGxhYmxlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBzcGVlZDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDUwCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICAvLyBTY3JvbGxJdGVtOlNjcm9sbEl0ZW0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBjbGFzc2VzKCkgewogICAgICByZXR1cm4gewogICAgICAgIFtjb21wb25lbnROYW1lICsgJy1wYWdlJ106IHRydWUKICAgICAgfTsKICAgIH0sCgogICAgaG9yc2VMYW1wU3R5bGUoKXsKICAgICAgCiAgICAgIGxldCBzdHlsZXMgPSB7fQogICAgICBpZih0aGlzLmNvbXBsZXhBbSl7CiAgICAgICAgc3R5bGVzID0gewogICAgICAgICAgJ3RyYW5zZm9ybSc6YHRyYW5zbGF0ZVkoJHt0aGlzLmRpc3RhbmNlfXB4KWAKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYodGhpcy5hbmltYXRlKXsKICAgICAgICAgIHN0eWxlcyA9IHsKICAgICAgICAgICAgJ3RyYW5zaXRpb24nOiBgYWxsICR7fn4odGhpcy5oZWlnaHQvdGhpcy5zcGVlZC80KX1zYCwKICAgICAgICAgICAgJ21hcmdpbi10b3AnOiBgLSR7dGhpcy5oZWlnaHR9cHhgCiAgICAgICAgICB9CiAgICAgICAgfSAKICAgICAgfQogICAgICByZXR1cm4gc3R5bGVzCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgbGlzdChuZXdWYWx1ZSwgb2xkVmFsdWUpIHsKICAgICAgdGhpcy5zY3JvbGxMaXN0ID0gW10uY29uY2F0KG5ld1ZhbHVlKSAKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICBjb25zb2xlLmxvZyh0aGlzLiRzbG90cykKICAgIGlmKHRoaXMuJHNsb3RzLmRlZmF1bHQpewogICAgICB0aGlzLnNjcm9sbExpc3QgPSBbXS5jb25jYXQodGhpcy4kc2xvdHMuZGVmYXVsdCkKICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zY3JvbGxMaXN0ID0gW10uY29uY2F0KHRoaXMubGlzdCkgCiAgICB9IAogICAgCiAgICBzZXRUaW1lb3V0KCgpPT57CiAgICAgIHRoaXMuY29tcGxleEFtP3RoaXMuc3RhcnRSb2xsKCk6dGhpcy5zdGFydFJvbGxFYXN5KCk7CiAgICB9LHRoaXMuc3RhbmRUaW1lKQoKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKgogICAgICog5Yip55uK54K55rua5Yqo5pa55byP5LiACiAgICAgKi8KICAgIHN0YXJ0Um9sbEVhc3koKXsKICAgICAgdGhpcy5zaG93aG9yc2VMYW1wKCkKICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKHRoaXMuc2hvd2hvcnNlTGFtcCx+fih0aGlzLmhlaWdodC90aGlzLnNwZWVkLzQpKjEwMDArdGhpcy5zdGFuZFRpbWUpCiAgICB9LAogICAgc2hvd2hvcnNlTGFtcCAoKSB7CiAgICAgIHRoaXMuYW5pbWF0ZSA9IHRydWU7CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuc2Nyb2xsTGlzdC5wdXNoKHRoaXMuc2Nyb2xsTGlzdFswXSk7CiAgICAgICAgdGhpcy5zY3JvbGxMaXN0LnNoaWZ0KCk7CiAgICAgICAgdGhpcy5hbmltYXRlID0gZmFsc2U7CiAgICAgIH0sIH5+KHRoaXMuaGVpZ2h0L3RoaXMuc3BlZWQvNCkqMTAwMCk7CiAgICB9LAogICAgLyoqCiAgICAgKiDliKnnm4rngrnmu5rliqjmlrnlvI/kuIAKICAgICAqLwogICAgc3RhcnRSb2xsKCl7CiAgICAgIAogICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoKCk9PnsKICAgICAgICBsZXQgY2h1bmsgPSAxMDAKICAgICAgICBmb3IobGV0IGk9MDtpPGNodW5rO2krKyl7CiAgICAgICAgICB0aGlzLnNjcm9sbChpLGk8KGNodW5rLTEpP2ZhbHNlOnRydWUpCiAgICAgICAgfQogICAgICB9LHRoaXMuc3RhbmRUaW1lKzEwMCp0aGlzLnNwZWVkKQogICAgfSwKICAgIHNjcm9sbChuLGxhc3QpewogICAgICBzZXRUaW1lb3V0KCgpPT57CiAgICAgICAgdGhpcy5kaXN0YW5jZSAtPSB0aGlzLmhlaWdodC8xMDAKICAgICAgICBpZihsYXN0KXsKICAgICAgICAgIHRoaXMuc2Nyb2xsTGlzdC5wdXNoKHRoaXMuc2Nyb2xsTGlzdFswXSk7CiAgICAgICAgICB0aGlzLnNjcm9sbExpc3Quc2hpZnQoKTsKICAgICAgICAgIHRoaXMuZGlzdGFuY2UgPSAwCiAgICAgICAgfQogICAgICB9LG4qdGhpcy5zcGVlZCkKICAgIH0sCgoKICAgIC8qKgogICAgICog54K55Ye75rua5Yqo5Y2V5YWDCiAgICAgKi8KICAgIGdvKGl0ZW0pewogICAgICB0aGlzLiRlbWl0KCdnbycsaXRlbSkKICAgIH0sCgogICAgaGFuZGxlQ2xpY2tJY29uKCl7CiAgICAgIGNvbnNvbGUubG9nKCdnbycpCiAgICAgIHRoaXMuJGVtaXQoJ2dvSWNvbicsdGhpcy5zY3JvbGxMaXN0WzBdKQogICAgfSwKCiAgICBhY3RpdmF0ZWQoKSB7CiAgICAgIGlmICh0aGlzLmtlZXBBbGl2ZSkgewogICAgICAgIHRoaXMua2VlcEFsaXZlID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCgogICAgZGVhY3RpdmF0ZWQoKSB7CiAgICAgIHRoaXMua2VlcEFsaXZlID0gdHJ1ZTsKICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKQogICAgfSwKCiAgICBkZXN0cm95ZWQoKSB7CiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcikKICAgIH0KICB9Cn0pOwo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/packages/noticebar","sourcesContent":["<template>\n  <nut-noticebar\n    :direction=\"direction\"\n    :list=\"list\"\n    :speed=\"speed\"\n    :standTime=\"standTime\"\n    :complexAm=\"complexAm\"\n    :height=\"height\"\n    :text=\"text\"\n    :closeMode=\"closeMode\"\n    :wrapable=\"wrapable\"\n    :leftIcon=\"leftIcon\"\n    :color=\"color\"\n    :background=\"background\"\n    :delay=\"delay\"\n    :scrollable=\"scrollable\"\n    v-on=\"$listeners\"\n  >\n    <slot></slot>\n  </nut-noticebar>\n</template>\n  <script>\nimport { createComponent } from '@/utils/create';\n// import ScrollItem from './item'\nconst { componentName, create } = createComponent('noticebar');\n\nexport default create({\n  props: {\n    // 滚动方向  across 横向 vertical 纵向\n    direction: {\n      type: String,\n      default: 'across'\n    },\n    list: {\n      type: Array,\n      default: () => {\n        return [];\n      }\n    },\n    standTime: {\n      type: Number,\n      default: 1000\n    },\n    complexAm: {\n      type: Boolean,\n      default: false\n    },\n    height: {\n      type: Number,\n      default: 40\n    },\n    text: {\n      type: String,\n      default: ''\n    },\n    closeMode: {\n      type: Boolean,\n      default: false\n    },\n    wrapable: {\n      type: Boolean,\n      default: false\n    },\n    leftIcon: { \n      type: String, \n      default: '' \n    },\n    color: {\n      type: String,\n      default: '#F9911B'\n    },\n    background: {\n      type: String,\n      default: 'rgba(254,250,216,1)'\n    },\n    delay: {\n      type: [String, Number],\n      default: 1\n    },\n    scrollable: {\n      type: Boolean,\n      default: true\n    },\n    speed: {\n      type: Number,\n      default: 50\n    }\n  },\n  data() {\n    return {\n    };\n  },\n  components: {\n    // ScrollItem:ScrollItem\n  },\n  computed: {\n    classes() {\n      return {\n        [componentName + '-page']: true\n      };\n    },\n\n    horseLampStyle(){\n      \n      let styles = {}\n      if(this.complexAm){\n        styles = {\n          'transform':`translateY(${this.distance}px)`\n        }\n      } else {\n        if(this.animate){\n          styles = {\n            'transition': `all ${~~(this.height/this.speed/4)}s`,\n            'margin-top': `-${this.height}px`\n          }\n        } \n      }\n      return styles\n    }\n  },\n  watch: {\n    list(newValue, oldValue) {\n      this.scrollList = [].concat(newValue) \n    }\n  },\n  mounted() {\n    console.log(this.$slots)\n    if(this.$slots.default){\n      this.scrollList = [].concat(this.$slots.default)\n    } else {\n        this.scrollList = [].concat(this.list) \n    } \n    \n    setTimeout(()=>{\n      this.complexAm?this.startRoll():this.startRollEasy();\n    },this.standTime)\n\n  },\n  methods: {\n    /**\n     * 利益点滚动方式一\n     */\n    startRollEasy(){\n      this.showhorseLamp()\n      this.timer = setInterval(this.showhorseLamp,~~(this.height/this.speed/4)*1000+this.standTime)\n    },\n    showhorseLamp () {\n      this.animate = true;\n      setTimeout(() => {\n        this.scrollList.push(this.scrollList[0]);\n        this.scrollList.shift();\n        this.animate = false;\n      }, ~~(this.height/this.speed/4)*1000);\n    },\n    /**\n     * 利益点滚动方式一\n     */\n    startRoll(){\n      \n      this.timer = setInterval(()=>{\n        let chunk = 100\n        for(let i=0;i<chunk;i++){\n          this.scroll(i,i<(chunk-1)?false:true)\n        }\n      },this.standTime+100*this.speed)\n    },\n    scroll(n,last){\n      setTimeout(()=>{\n        this.distance -= this.height/100\n        if(last){\n          this.scrollList.push(this.scrollList[0]);\n          this.scrollList.shift();\n          this.distance = 0\n        }\n      },n*this.speed)\n    },\n\n\n    /**\n     * 点击滚动单元\n     */\n    go(item){\n      this.$emit('go',item)\n    },\n\n    handleClickIcon(){\n      console.log('go')\n      this.$emit('goIcon',this.scrollList[0])\n    },\n\n    activated() {\n      if (this.keepAlive) {\n        this.keepAlive = false;\n      }\n    },\n\n    deactivated() {\n      this.keepAlive = true;\n      clearInterval(this.timer)\n    },\n\n    destroyed() {\n      clearInterval(this.timer)\n    }\n  }\n});\n</script>\n  \n  <style lang=\"scss\">\n@import 'index.scss';\n</style>\n  "]}]}
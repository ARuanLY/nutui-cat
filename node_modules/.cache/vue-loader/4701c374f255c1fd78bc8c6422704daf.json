{"remainingRequest":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ailu/Documents/program/nutui-lu/nutui-cat/src/packages/progress/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/src/packages/progress/index.vue","mtime":1624442983323},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ailu/Documents/program/nutui-lu/nutui-cat/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJ0AvdXRpbHMvY3JlYXRlJzsKY29uc3QgeyBjb21wb25lbnROYW1lLCBjcmVhdGUgfSA9IGNyZWF0ZUNvbXBvbmVudCgncHJvZ3Jlc3MnKTsKCmV4cG9ydCBkZWZhdWx0IGNyZWF0ZSh7CiAgcHJvcHM6IHsKICAgIG5hbWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIHBlcmNlbnRhZ2U6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAwCiAgICB9LAogICAgcGhhc2VzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBbXQogICAgfSwKICAgIGFuaW1hdGlvbjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBlcmNlbnQ6MCwKICAgICAgYmFyQ2h1bms6IDUwLAogICAgICBjaHVua1N0YXRlOltdCiAgICB9OwogIH0sCiAgY29tcG9uZW50czoge30sCiAgY29tcHV0ZWQ6IHsKICAgIGNsYXNzZXMoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgW2NvbXBvbmVudE5hbWUgKyAnLXBhZ2UnXTogdHJ1ZQogICAgICB9OwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICAgcGVyY2VudGFnZShuZXdWYWx1ZSwgb2xkVmFsdWUpIHsKICAgICAgICB0aGlzLnBlcmNlbnQgPSBuZXdWYWx1ZSAKICAgICAgfQogICAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAKICAgICAgdGhpcy5iYXJDaHVuayA9IHRoaXMubmVlZENodW5rKCkKICAgICAgdGhpcy5wZXJjZW50ID0gdGhpcy5wZXJjZW50YWdlCiAgICAgIGlmKHRoaXMuYW5pbWF0aW9uKXsKICAgICAgICAKICAgICAgICB0aGlzLmNodW5rU3RhdGUgPSBBcnJheS5mcm9tKHtsZW5ndGg6dGhpcy5iYXJDaHVua30sKHZhbCxpbmRleCk9PnsKICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0pCiAgICAgICAgdGhpcy5hbmltYXRlZCgpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jaHVua1N0YXRlID0gQXJyYXkuZnJvbSh7bGVuZ3RoOnRoaXMuYmFyQ2h1bmt9LCh2YWwsaW5kZXgpPT57CiAgICAgICAgICByZXR1cm4gaW5kZXggPCAodGhpcy5wZXJjZW50YWdlIC8gMTAwKSAqIHRoaXMuYmFyQ2h1bms/dHJ1ZTpmYWxzZQogICAgICAgIH0pCiAgICAgIH0KCiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFuaW1hdGVkKCkgewogICAgIAogICAgICBsZXQgbj0wCiAgICAgIHdoaWxlKG48KHRoaXMucGVyY2VudGFnZSAvIDEwMCkgKiB0aGlzLmJhckNodW5rKXsKICAgICAgICB0aGlzLmdvKG4pCiAgICAgICAgbisrCiAgICAgIH0KICAgIH0sCiAgICBnbyh4KXsKICAgICAgc2V0VGltZW91dCgoKT0+ewogICAgICAgIHRoaXMuY2h1bmtTdGF0ZVt4XSA9IHRydWUKICAgICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpCiAgICAgIH0sMzAqeCkKICAgIH0sCiAgICBuZWVkQ2h1bmsoKXsKICAgICAgICBsZXQgYmFyRG9tID0gdGhpcy4kcmVmcy5iYXI7CiAgICAgICAgcmV0dXJuIH5+KGJhckRvbS5jbGllbnRXaWR0aCAvIDcpOwogICAgfSwKCiAgICBlYXNlT3V0Q3ViaWMocG9zKSB7CiAgICAgIHJldHVybiAocG9zIC0gMSkgKiogMyArIDEKICAgIH0KICB9Cn0pOwo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/packages/progress","sourcesContent":["<template>\n  <div :class=\"classes\">\n    <div class=\"progress\">\n      <div class=\"ladder\" v-if=\"phases.length\">\n        <div\n          class=\"ladder-item\"\n          v-for=\"(item, i) in phases\"\n          :key=\"i\"\n          @click=\"item.click && item.click(item)\"\n        >\n          <div\n            :class=\"[\n              'ladder-value',\n              'ladder-value-first',\n              percent < item.percent ? '' : 'active'\n            ]\"\n            :style=\"{ left: `calc(${item.percent}% - 28px)` }\"\n            ><span>{{ item.desc }}</span></div\n          >\n        </div>\n      </div>\n      <div class=\"bar\">\n        <div class=\"bar-bg\" ref=\"bar\">\n          <span\n            :class=\"{\n              active: x\n            }\"\n            v-for=\"(x, i) in chunkState\"\n            :key=\"i\"\n          ></span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { createComponent } from '@/utils/create';\nconst { componentName, create } = createComponent('progress');\n\nexport default create({\n  props: {\n    name: {\n      type: String,\n      default: ''\n    },\n    percentage: {\n      type: Number,\n      default: 0\n    },\n    phases: {\n      type: Array,\n      default: []\n    },\n    animation: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      percent:0,\n      barChunk: 50,\n      chunkState:[]\n    };\n  },\n  components: {},\n  computed: {\n    classes() {\n      return {\n        [componentName + '-page']: true\n      };\n    }\n  },\n  watch: {\n      percentage(newValue, oldValue) {\n        this.percent = newValue \n      }\n    },\n  mounted() {\n    this.$nextTick(() => {\n      \n      this.barChunk = this.needChunk()\n      this.percent = this.percentage\n      if(this.animation){\n        \n        this.chunkState = Array.from({length:this.barChunk},(val,index)=>{\n          return false\n        })\n        this.animated()\n      } else {\n        this.chunkState = Array.from({length:this.barChunk},(val,index)=>{\n          return index < (this.percentage / 100) * this.barChunk?true:false\n        })\n      }\n\n    });\n  },\n  methods: {\n    animated() {\n     \n      let n=0\n      while(n<(this.percentage / 100) * this.barChunk){\n        this.go(n)\n        n++\n      }\n    },\n    go(x){\n      setTimeout(()=>{\n        this.chunkState[x] = true\n        this.$forceUpdate()\n      },30*x)\n    },\n    needChunk(){\n        let barDom = this.$refs.bar;\n        return ~~(barDom.clientWidth / 7);\n    },\n\n    easeOutCubic(pos) {\n      return (pos - 1) ** 3 + 1\n    }\n  }\n});\n</script>\n\n<style lang=\"scss\">\n@import 'index.scss';\n</style>\n  "]}]}